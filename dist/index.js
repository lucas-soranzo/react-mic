!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("prop-types"),require("react")):"function"==typeof define&&define.amd?define([,],t):"object"==typeof exports?exports.ReactMic=t(require("prop-types"),require("react")):e.ReactMic=t(e.PropTypes,e.React)}(window,(function(e,t){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(t,n){t.exports=e},function(e,t,n){!function(e,t,n,o){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var a=r(t),i=r(n),s=r(o),c=function(e,t,n){return{endTime:t,insertTime:n,type:"exponentialRampToValue",value:e}},u=function(e,t,n){return{endTime:t,insertTime:n,type:"linearRampToValue",value:e}},l=function(e,t){return{startTime:t,type:"setValue",value:e}},d=function(e,t,n){return{duration:n,startTime:t,type:"setValueCurve",values:e}},h=function(e,t,n){var o=n.startTime,r=n.target,a=n.timeConstant;return r+(t-r)*Math.exp((o-e)/a)},p=function(e){return"exponentialRampToValue"===e.type},f=function(e){return"linearRampToValue"===e.type},v=function(e){return p(e)||f(e)},m=function(e){return"setValue"===e.type},g=function(e){return"setValueCurve"===e.type},y=function e(t,n,o,r){var a=t[n];return void 0===a?r:v(a)||m(a)?a.value:g(a)?a.values[a.values.length-1]:h(o,e(t,n-1,a.startTime,r),a)},C=function(e,t,n,o,r){return void 0===n?[o.insertTime,r]:v(n)?[n.endTime,n.value]:m(n)?[n.startTime,n.value]:g(n)?[n.startTime+n.duration,n.values[n.values.length-1]]:[n.startTime,y(e,t-1,n.startTime,r)]},w=function(e){return"cancelAndHold"===e.type},b=function(e){return"cancelScheduledValues"===e.type},M=function(e){return w(e)||b(e)?e.cancelTime:p(e)||f(e)?e.endTime:e.startTime},_=function(e,t,n,o){var r=o.endTime,a=o.value;return n===a?a:0<n&&0<a||n<0&&a<0?n*Math.pow(a/n,(e-t)/(r-t)):0},O=function(e,t,n,o){return n+(e-t)/(o.endTime-t)*(o.value-n)},A=function(e,t){var n=t.duration,o=t.startTime,r=t.values;return function(e,t){var n=Math.floor(t),o=Math.ceil(t);return n===o?e[n]:(1-(t-n))*e[n]+(1-(o-t))*e[o]}(r,(e-o)/n*(r.length-1))},x=function(e){return"setTarget"===e.type},E=function(){function e(t){i.default(this,e),this._automationEvents=[],this._currenTime=0,this._defaultValue=t}return s.default(e,[{key:Symbol.iterator,value:function(){return this._automationEvents[Symbol.iterator]()}},{key:"add",value:function(e){var t=M(e);if(w(e)||b(e)){var n=this._automationEvents.findIndex((function(n){return b(e)&&g(n)?n.startTime+n.duration>=t:M(n)>=t})),o=this._automationEvents[n];if(-1!==n&&(this._automationEvents=this._automationEvents.slice(0,n)),w(e)){var r=this._automationEvents[this._automationEvents.length-1];if(void 0!==o&&v(o)){if(x(r))throw new Error("The internal list is malformed.");var a=g(r)?r.startTime+r.duration:M(r),i=g(r)?r.values[r.values.length-1]:r.value,s=p(o)?_(t,a,i,o):O(t,a,i,o),h=p(o)?c(s,t,this._currenTime):u(s,t,this._currenTime);this._automationEvents.push(h)}void 0!==r&&x(r)&&this._automationEvents.push(l(this.getValue(t),t)),void 0!==r&&g(r)&&r.startTime+r.duration>t&&(this._automationEvents[this._automationEvents.length-1]=d(new Float32Array([6,7]),r.startTime,t-r.startTime))}}else{var m=this._automationEvents.findIndex((function(e){return M(e)>t})),y=-1===m?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[m-1];if(void 0!==y&&g(y)&&M(y)+y.duration>t)return!1;var C=p(e)?c(e.value,e.endTime,this._currenTime):f(e)?u(e.value,t,this._currenTime):e;if(-1===m)this._automationEvents.push(C);else{if(g(e)&&t+e.duration>M(this._automationEvents[m]))return!1;this._automationEvents.splice(m,0,C)}}return!0}},{key:"flush",value:function(e){var t=this._automationEvents.findIndex((function(t){return M(t)>e}));if(t>1){var n=this._automationEvents.slice(t-1),o=n[0];x(o)&&n.unshift(l(y(this._automationEvents,t-2,o.startTime,this._defaultValue),o.startTime)),this._automationEvents=n}}},{key:"getValue",value:function(e){if(0===this._automationEvents.length)return this._defaultValue;var t=this._automationEvents[this._automationEvents.length-1],n=this._automationEvents.findIndex((function(t){return M(t)>e})),o=this._automationEvents[n],r=M(t)<=e?t:this._automationEvents[n-1];if(void 0!==r&&x(r)&&(void 0===o||!v(o)||o.insertTime>e))return h(e,y(this._automationEvents,n-2,r.startTime,this._defaultValue),r);if(void 0!==r&&m(r)&&(void 0===o||!v(o)))return r.value;if(void 0!==r&&g(r)&&(void 0===o||!v(o)||r.startTime+r.duration>e))return e<r.startTime+r.duration?A(e,r):r.values[r.values.length-1];if(void 0!==r&&v(r)&&(void 0===o||!v(o)))return r.value;if(void 0!==o&&p(o)){var i=C(this._automationEvents,n-1,r,o,this._defaultValue),s=a.default(i,2),c=s[0],u=s[1];return _(e,c,u,o)}if(void 0!==o&&f(o)){var l=C(this._automationEvents,n-1,r,o,this._defaultValue),d=a.default(l,2),w=d[0],b=d[1];return O(e,w,b,o)}return this._defaultValue}}]),e}();e.AutomationEventList=E,e.createCancelAndHoldAutomationEvent=function(e){return{cancelTime:e,type:"cancelAndHold"}},e.createCancelScheduledValuesAutomationEvent=function(e){return{cancelTime:e,type:"cancelScheduledValues"}},e.createExponentialRampToValueAutomationEvent=function(e,t){return{endTime:t,type:"exponentialRampToValue",value:e}},e.createLinearRampToValueAutomationEvent=function(e,t){return{endTime:t,type:"linearRampToValue",value:e}},e.createSetTargetAutomationEvent=function(e,t,n){return{startTime:t,target:e,timeConstant:n,type:"setTarget"}},e.createSetValueAutomationEvent=l,e.createSetValueCurveAutomationEvent=d,Object.defineProperty(e,"__esModule",{value:!0})}(t,n(4),n(10),n(11))},function(e,n){e.exports=t},function(e,t,n){e.exports=n(12)},function(e,t,n){var o=n(5),r=n(6),a=n(7),i=n(9);e.exports=function(e,t){return o(e)||r(e,t)||a(e,t)||i()}},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],o=!0,r=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(o=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);o=!0);}catch(e){r=!0,a=e}finally{try{o||null==s.return||s.return()}finally{if(r)throw a}}return n}}},function(e,t,n){var o=n(8);e.exports=function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}e.exports=function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}},function(e,t,n){"use strict";n.r(t),n.d(t,"ReactMic",(function(){return _r}));var o=n(2),r=n.n(o),a=n(0);let i,s=window.AudioContext||window.webkitAudioContext,c=e=>{let t=new Event("error");return t.data=new Error("Wrong state for "+e),t};class u{constructor(e,t=null){this.stream=e,this.config=t,this.state="inactive",this.em=document.createDocumentFragment(),this.encoder=(e=>{let t=e.toString().replace(/^(\(\)\s*=>|function\s*\(\))\s*{/,"").replace(/}$/,""),n=new Blob([t]);return new Worker(URL.createObjectURL(n))})(u.encoder);let n=this;this.encoder.addEventListener("message",e=>{let t=new Event("dataavailable");t.data=new Blob([e.data],{type:n.mimeType}),n.em.dispatchEvent(t),"inactive"===n.state&&n.em.dispatchEvent(new Event("stop"))})}start(e){if("inactive"!==this.state)return this.em.dispatchEvent(c("start"));this.state="recording",i||(i=new s(this.config)),this.clone=this.stream.clone(),this.input=i.createMediaStreamSource(this.clone),this.processor=i.createScriptProcessor(2048,1,1),this.encoder.postMessage(["init",i.sampleRate]),this.processor.onaudioprocess=e=>{"recording"===this.state&&this.encoder.postMessage(["encode",e.inputBuffer.getChannelData(0)])},this.input.connect(this.processor),this.processor.connect(i.destination),this.em.dispatchEvent(new Event("start")),e&&(this.slicing=setInterval(()=>{"recording"===this.state&&this.requestData()},e))}stop(){return"inactive"===this.state?this.em.dispatchEvent(c("stop")):(this.requestData(),this.state="inactive",this.clone.getTracks().forEach(e=>{e.stop()}),this.processor.disconnect(),this.input.disconnect(),clearInterval(this.slicing))}pause(){return"recording"!==this.state?this.em.dispatchEvent(c("pause")):(this.state="paused",this.em.dispatchEvent(new Event("pause")))}resume(){return"paused"!==this.state?this.em.dispatchEvent(c("resume")):(this.state="recording",this.em.dispatchEvent(new Event("resume")))}requestData(){return"inactive"===this.state?this.em.dispatchEvent(c("requestData")):this.encoder.postMessage(["dump",i.sampleRate])}addEventListener(...e){this.em.addEventListener(...e)}removeEventListener(...e){this.em.removeEventListener(...e)}dispatchEvent(...e){this.em.dispatchEvent(...e)}}u.prototype.mimeType="audio/wav",u.isTypeSupported=e=>u.prototype.mimeType===e,u.notSupported=!navigator.mediaDevices||!s,u.encoder=()=>{let e=[];onmessage=t=>{"encode"===t.data[0]?function(t){let n=t.length,o=new Uint8Array(2*n);for(let e=0;e<n;e++){let n=2*e,r=t[e];r>1?r=1:r<-1&&(r=-1),r*=32768,o[n]=r,o[n+1]=r>>8}e.push(o)}(t.data[1]):"dump"===t.data[0]&&function(t){let n=e.length?e[0].length:0,o=e.length*n,r=new Uint8Array(44+o),a=new DataView(r.buffer);a.setUint32(0,1380533830,!1),a.setUint32(4,36+o,!0),a.setUint32(8,1463899717,!1),a.setUint32(12,1718449184,!1),a.setUint32(16,16,!0),a.setUint16(20,1,!0),a.setUint16(22,1,!0),a.setUint32(24,t,!0),a.setUint32(28,2*t,!0),a.setUint16(32,2,!0),a.setUint16(34,16,!0),a.setUint32(36,1684108385,!1),a.setUint32(40,o,!0);for(let t=0;t<e.length;t++)r.set(e[t],t*n+44);e=[],postMessage(r.buffer,[r.buffer])}(t.data[1])}};var l=u,d=n(1);const h=new WeakSet,p=new WeakMap,f=new WeakMap,v=new WeakMap,m=new WeakMap,g=new WeakMap,y=new WeakMap,C=new WeakMap,w=new WeakMap,b=new WeakMap,M={construct:()=>M},_=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,O=(e,t)=>{const n=[];let o=e.replace(/^[\s]+/,""),r=o.match(_);for(;null!==r;){const e=r[1].slice(1,-1),a=r[0].replace(/([\s]+)?;?$/,"").replace(e,new URL(e,t).toString());n.push(a),o=o.slice(r[0].length).replace(/^[\s]+/,""),r=o.match(_)}return[n.join(";"),o]},A=e=>{if(void 0!==e&&!Array.isArray(e))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},x=e=>{if(!(e=>{try{new new Proxy(e,M)}catch{return!1}return!0})(e))throw new TypeError("The given value for processorCtor should be a constructor.");if(null===e.prototype||"object"!=typeof e.prototype)throw new TypeError("The given value for processorCtor should have a prototype.")},E=(e,t)=>{const n=e.get(t);if(void 0===n)throw new Error("A value with the given key could not be found.");return n},I=(e,t)=>{const n=Array.from(e).filter(t);if(n.length>1)throw Error("More than one element was found.");if(0===n.length)throw Error("No element was found.");const[o]=n;return e.delete(o),o},T=(e,t,n,o)=>{const r=E(e,t),a=I(r,e=>e[0]===n&&e[1]===o);return 0===r.size&&e.delete(t),a},S=e=>E(y,e),D=e=>{if(h.has(e))throw new Error("The AudioNode is already stored.");h.add(e),S(e).forEach(e=>e(!0))},N=e=>"port"in e,k=e=>{if(!h.has(e))throw new Error("The AudioNode is not stored.");h.delete(e),S(e).forEach(e=>e(!1))},R=(e,t)=>{!N(e)&&t.every(e=>0===e.size)&&k(e)},P={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},F=(e,t)=>e.context===t,B=e=>{try{e.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},L=()=>new DOMException("","IndexSizeError"),W=e=>{var t;e.getChannelData=(t=e.getChannelData,n=>{try{return t.call(e,n)}catch(e){if(12===e.code)throw L();throw e}})},V={numberOfChannels:1},j=-34028234663852886e22,q=-j,z=e=>h.has(e),U={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},X=e=>E(p,e),Y=e=>E(v,e),Z=(e,t)=>{const{activeInputs:n}=X(e);n.forEach(n=>n.forEach(([n])=>{t.includes(e)||Z(n,[...t,e])}));const o=(e=>"playbackRate"in e)(e)?[e.playbackRate]:N(e)?Array.from(e.parameters.values()):(e=>"frequency"in e&&"gain"in e)(e)?[e.Q,e.detune,e.frequency,e.gain]:(e=>"offset"in e)(e)?[e.offset]:(e=>!("frequency"in e)&&"gain"in e)(e)?[e.gain]:(e=>"detune"in e&&"frequency"in e)(e)?[e.detune,e.frequency]:(e=>"pan"in e)(e)?[e.pan]:[];for(const e of o){const n=Y(e);void 0!==n&&n.activeInputs.forEach(([e])=>Z(e,t))}z(e)&&k(e)},G=e=>{Z(e.destination,[])},Q=e=>void 0===e||"number"==typeof e||"string"==typeof e&&("balanced"===e||"interactive"===e||"playback"===e),$=e=>"context"in e,H=e=>$(e[0]),J=(e,t,n,o)=>{for(const t of e)if(n(t)){if(o)return!1;throw Error("The set contains at least one similar element.")}return e.add(t),!0},K=(e,t,[n,o],r)=>{J(e,[t,n,o],e=>e[0]===t&&e[1]===n,r)},ee=(e,[t,n,o],r)=>{const a=e.get(t);void 0===a?e.set(t,new Set([[n,o]])):J(a,[n,o],e=>e[0]===n,r)},te=e=>"inputs"in e,ne=(e,t,n,o)=>{if(te(t)){const r=t.inputs[o];return e.connect(r,n,0),[r,n,0]}return e.connect(t,n,o),[t,n,o]},oe=(e,t,n)=>{for(const o of e)if(o[0]===t&&o[1]===n)return e.delete(o),o;return null},re=(e,t)=>{if(!S(e).delete(t))throw new Error("Missing the expected event listener.")},ae=(e,t,n)=>{const o=E(e,t),r=I(o,e=>e[0]===n);return 0===o.size&&e.delete(t),r},ie=(e,t,n,o)=>{te(t)?e.disconnect(t.inputs[o],n,0):e.disconnect(t,n,o)},se=e=>E(f,e),ce=e=>E(m,e),ue=e=>C.has(e),le=e=>!h.has(e),de=e=>new Promise(t=>{const n=e.createScriptProcessor(256,1,1),o=e.createGain(),r=e.createBuffer(1,2,44100),a=r.getChannelData(0);a[0]=1,a[1]=1;const i=e.createBufferSource();i.buffer=r,i.loop=!0,i.connect(n).connect(e.destination),i.connect(o),i.disconnect(o),n.onaudioprocess=o=>{const r=o.inputBuffer.getChannelData(0);Array.prototype.some.call(r,e=>1===e)?t(!0):t(!1),i.stop(),n.onaudioprocess=null,i.disconnect(n),n.disconnect(e.destination)},i.start()}),he=(e,t)=>{const n=new Map;for(const t of e)for(const e of t){const t=n.get(e);n.set(e,void 0===t?1:t+1)}n.forEach((e,n)=>t(n,e))},pe=e=>"context"in e,fe=(e,t,n,o)=>{const{activeInputs:r,passiveInputs:a}=Y(t),{outputs:i}=X(e),s=S(e),c=i=>{const s=se(e),c=ce(t);if(i){const t=ae(a,e,n);K(r,e,t,!1),o||ue(e)||s.connect(c,n)}else{const t=((e,t,n)=>I(e,e=>e[0]===t&&e[1]===n))(r,e,n);ee(a,t,!1),o||ue(e)||s.disconnect(c,n)}};return!!J(i,[t,n],e=>e[0]===t&&e[1]===n,!0)&&(s.add(c),z(e)?K(r,e,[n,c],!0):ee(a,[e,n,c],!0),!0)},ve=(e,t,n,o,r)=>{const[a,i]=((e,t,n,o)=>{const{activeInputs:r,passiveInputs:a}=X(t),i=oe(r[o],e,n);if(null===i){return[T(a,e,n,o)[2],!1]}return[i[2],!0]})(e,n,o,r);if(null!==a&&(re(e,a),!i||t||ue(e)||ie(se(e),se(n),o,r)),z(n)){const{activeInputs:e}=X(n);R(n,e)}},me=(e,t,n,o)=>{const[r,a]=((e,t,n)=>{const{activeInputs:o,passiveInputs:r}=Y(t),a=oe(o,e,n);if(null===a){return[ae(r,e,n)[1],!1]}return[a[2],!0]})(e,n,o);null!==r&&(re(e,r),!a||t||ue(e)||se(e).disconnect(ce(n),o))};class ge{constructor(e){this._map=new Map(e)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(e,t=null){return this._map.forEach((n,o)=>e.call(t,n,o,this))}get(e){return this._map.get(e)}has(e){return this._map.has(e)}keys(){return this._map.keys()}values(){return this._map.values()}}const ye={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}};function Ce(e,t,n,o,r){if("function"==typeof e.copyFromChannel)0===t[n].byteLength&&(t[n]=new Float32Array(128)),e.copyFromChannel(t[n],o,r);else{const a=e.getChannelData(o);if(0===t[n].byteLength)t[n]=a.slice(r,r+128);else{const e=new Float32Array(a.buffer,r*Float32Array.BYTES_PER_ELEMENT,128);t[n].set(e)}}}const we=(e,t,n,o,r)=>{"function"==typeof e.copyToChannel?0!==t[n].byteLength&&e.copyToChannel(t[n],o,r):0!==t[n].byteLength&&e.getChannelData(o).set(t[n],r)},be=(e,t)=>{const n=[];for(let o=0;o<e;o+=1){const e=[],r="number"==typeof t?t:t[o];for(let t=0;t<r;t+=1)e.push(new Float32Array(128));n.push(e)}return n},Me=async(e,t,n,o,r,a,i)=>{const s=null===t?128*Math.ceil(e.context.length/128):t.length,c=o.channelCount*o.numberOfInputs,u=r.reduce((e,t)=>e+t,0),l=0===u?null:n.createBuffer(u,s,n.sampleRate);if(void 0===a)throw new Error("Missing the processor constructor.");const d=X(e),h=await((e,t)=>{const n=E(b,e),o=se(t);return E(n,o)})(n,e),p=be(o.numberOfInputs,o.channelCount),f=be(o.numberOfOutputs,r),v=Array.from(e.parameters.keys()).reduce((e,t)=>({...e,[t]:new Float32Array(128)}),{});for(let u=0;u<s;u+=128){if(o.numberOfInputs>0&&null!==t)for(let e=0;e<o.numberOfInputs;e+=1)for(let n=0;n<o.channelCount;n+=1)Ce(t,p[e],n,n,u);void 0!==a.parameterDescriptors&&null!==t&&a.parameterDescriptors.forEach(({name:e},n)=>{Ce(t,v,e,c+n,u)});for(let e=0;e<o.numberOfInputs;e+=1)for(let t=0;t<r[e];t+=1)0===f[e][t].byteLength&&(f[e][t]=new Float32Array(128));try{const e=p.map((e,t)=>0===d.activeInputs[t].size?[]:e),t=i(u/n.sampleRate,n.sampleRate,()=>h.process(e,f,v));if(null!==l)for(let e=0,t=0;e<o.numberOfOutputs;e+=1){for(let n=0;n<r[e];n+=1)we(l,f[e],n,t+n,u);t+=r[e]}if(!t)break}catch(t){e.dispatchEvent(new ErrorEvent("processorerror",{colno:t.colno,filename:t.filename,lineno:t.lineno,message:t.message}));break}}return l},_e={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},Oe={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},Ae={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},xe={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},Ee={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},Ie={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},Te=(e,t,n)=>{const o=t[n];if(void 0===o)throw e();return o},Se={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},De={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},Ne=()=>new DOMException("","InvalidStateError"),ke=()=>new DOMException("","InvalidAccessError"),Re={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},Pe=(e,t,n,o,r,a,i,s,c,u,l)=>{const d=u.length;let h=s;for(let s=0;s<d;s+=1){let d=n[0]*u[s];for(let t=1;t<r;t+=1){const o=h-t&c-1;d+=n[t]*a[o],d-=e[t]*i[o]}for(let e=r;e<o;e+=1)d+=n[e]*a[h-e&c-1];for(let n=r;n<t;n+=1)d-=e[n]*i[h-n&c-1];a[h]=u[s],i[h]=d,h=h+1&c-1,l[s]=d}return h},Fe={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},Be=e=>{const t=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const n=e.decodeAudioData(t.buffer,()=>{});return void 0!==n&&(n.catch(()=>{}),!0)}catch{}return!1},Le={numberOfChannels:1},We=(e,t,n)=>{const o=t[n];void 0!==o&&o!==e[n]&&(e[n]=o)},Ve=(e,t)=>{We(e,t,"channelCount"),We(e,t,"channelCountMode"),We(e,t,"channelInterpretation")},je=e=>"function"==typeof e.getFloatTimeDomainData,qe=(e,t,n)=>{const o=t[n];void 0!==o&&o!==e[n].value&&(e[n].value=o)},ze=e=>{var t;e.start=(t=e.start,(n=0,o=0,r)=>{if("number"==typeof r&&r<0||o<0||n<0)throw new RangeError("The parameters can't be negative.");t.call(e,n,o,r)})},Ue=e=>{var t;e.stop=(t=e.stop,(n=0)=>{if(n<0)throw new RangeError("The parameter can't be negative.");t.call(e,n)})},Xe=(e,t)=>null===e?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(e*t))))),Ye=async(e,t)=>new e(await(e=>new Promise((t,n)=>{const{port1:o,port2:r}=new MessageChannel;o.onmessage=({data:e})=>{o.close(),r.close(),t(e)},o.onmessageerror=({data:e})=>{o.close(),r.close(),n(e)},r.postMessage(e)}))(t)),Ze=(e,t)=>{const n=e.createBiquadFilter();return Ve(n,t),qe(n,t,"Q"),qe(n,t,"detune"),qe(n,t,"frequency"),qe(n,t,"gain"),We(n,t,"type"),n},Ge=(e,t)=>{const n=e.createChannelSplitter(t.numberOfOutputs);return Ve(n,t),(e=>{const t=e.numberOfOutputs;Object.defineProperty(e,"channelCount",{get:()=>t,set:e=>{if(e!==t)throw Ne()}}),Object.defineProperty(e,"channelCountMode",{get:()=>"explicit",set:e=>{if("explicit"!==e)throw Ne()}}),Object.defineProperty(e,"channelInterpretation",{get:()=>"discrete",set:e=>{if("discrete"!==e)throw Ne()}})})(n),n},Qe=(e,t)=>(e.connect=t.connect.bind(t),e.disconnect=t.disconnect.bind(t),e),$e=(e,t)=>{const n=e.createDelay(t.maxDelayTime);return Ve(n,t),qe(n,t,"delayTime"),n},He=(e,t)=>{const n=e.createGain();return Ve(n,t),qe(n,t,"gain"),n};function Je(e,t){const n=t[0]*t[0]+t[1]*t[1];return[(e[0]*t[0]+e[1]*t[1])/n,(e[1]*t[0]-e[0]*t[1])/n]}function Ke(e,t){let n=[0,0];for(let a=e.length-1;a>=0;a-=1)r=t,n=[(o=n)[0]*r[0]-o[1]*r[1],o[0]*r[1]+o[1]*r[0]],n[0]+=e[a];var o,r;return n}const et=(e,t,n,o)=>e.createScriptProcessor(t,n,o),tt=()=>new DOMException("","NotSupportedError"),nt={numberOfChannels:1},ot={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},rt={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},at={disableNormalization:!1},it={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},st=()=>new DOMException("","UnknownError"),ct={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},ut=e=>{if(null===e)return!1;const t=e.length;return t%2!=0?0!==e[Math.floor(t/2)]:e[t/2-1]+e[t/2]!==0},lt=(e,t,n,o)=>{let r=Object.getPrototypeOf(e);for(;!r.hasOwnProperty(t);)r=Object.getPrototypeOf(r);const{get:a,set:i}=Object.getOwnPropertyDescriptor(r,t);Object.defineProperty(e,t,{get:n(a),set:o(i)})},dt=e=>{const t=e.createOscillator();try{t.start(-1)}catch(e){return e instanceof RangeError}return!1},ht=e=>{const t=e.createBuffer(1,1,44100),n=e.createBufferSource();n.buffer=t,n.start(),n.stop();try{return n.stop(),!0}catch{return!1}},pt=e=>{const t=e.createOscillator();try{t.stop(-1)}catch(e){return e instanceof RangeError}return!1},ft=(e,t)=>{const n=t.createGain();e.connect(n);const o=(r=e.disconnect,()=>{r.call(e,n),e.removeEventListener("ended",o)});var r;e.addEventListener("ended",o),Qe(e,n),e.stop=(t=>{let o=!1;return(r=0)=>{if(o)try{t.call(e,r)}catch{n.gain.setValueAtTime(0,r)}else t.call(e,r),o=!0}})(e.stop)},vt=(e,t)=>n=>{const o={value:e};return Object.defineProperties(n,{currentTarget:o,target:o}),"function"==typeof t?t.call(e,n):t.handleEvent.call(e,n)},mt=(gt=J,(e,t,[n,o,r],a)=>{gt(e[o],[t,n,r],e=>e[0]===t&&e[1]===n,a)});var gt;const yt=(e=>(t,n,[o,r,a],i)=>{const s=t.get(o);void 0===s?t.set(o,new Set([[r,n,a]])):e(s,[r,n,a],e=>e[0]===r&&e[1]===n,i)})(J),Ct=(e=>(t,n,o,r)=>e(t[r],e=>e[0]===n&&e[1]===o))(I),wt=new WeakMap,bt=(e=>t=>{var n;return null!==(n=e.get(t))&&void 0!==n?n:0})(wt),Mt=(_t=new Map,Ot=new WeakMap,(e,t)=>{const n=Ot.get(e);if(void 0!==n)return n;const o=_t.get(e);if(void 0!==o)return o;try{const n=t();return n instanceof Promise?(_t.set(e,n),n.catch(()=>!1).then(t=>(_t.delete(e),Ot.set(e,t),t))):(Ot.set(e,n),n)}catch{return Ot.set(e,!1),!1}});var _t,Ot;const At="undefined"==typeof window?null:window,xt=(Et=Mt,It=L,(e,t)=>{const n=e.createAnalyser();if(Ve(n,t),!(t.maxDecibels>t.minDecibels))throw It();return We(n,t,"fftSize"),We(n,t,"maxDecibels"),We(n,t,"minDecibels"),We(n,t,"smoothingTimeConstant"),Et(je,()=>je(n))||(e=>{e.getFloatTimeDomainData=t=>{const n=new Uint8Array(t.length);e.getByteTimeDomainData(n);const o=Math.max(n.length,e.fftSize);for(let e=0;e<o;e+=1)t[e]=.0078125*(n[e]-128);return t}})(n),n});var Et,It;const Tt=(St=X,e=>{const t=St(e);if(null===t.renderer)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return t.renderer});var St;const Dt=((e,t,n)=>async(o,r,a,i)=>{const s=e(o),c=[...i,o];await Promise.all(s.activeInputs.map((e,i)=>Array.from(e).filter(([e])=>!c.includes(e)).map(async([e,s])=>{const u=t(e),l=await u.render(e,r,c),d=o.context.destination;n(e)||o===d&&n(o)||l.connect(a,s,i)})).reduce((e,t)=>[...e,...t],[]))})(X,Tt,ue),Nt=(kt=xt,Rt=se,Pt=Dt,()=>{const e=new WeakMap;return{render(t,n,o){const r=e.get(n);return void 0!==r?Promise.resolve(r):(async(t,n,o)=>{let r=Rt(t);if(!F(r,n)){const e={channelCount:r.channelCount,channelCountMode:r.channelCountMode,channelInterpretation:r.channelInterpretation,fftSize:r.fftSize,maxDecibels:r.maxDecibels,minDecibels:r.minDecibels,smoothingTimeConstant:r.smoothingTimeConstant};r=kt(n,e)}return e.set(n,r),await Pt(t,n,r,o),r})(t,n,o)}}});var kt,Rt,Pt;const Ft=(Bt=g,e=>{const t=Bt.get(e);if(void 0===t)throw Ne();return t});var Bt;const Lt=(e=>null===e?null:e.hasOwnProperty("OfflineAudioContext")?e.OfflineAudioContext:e.hasOwnProperty("webkitOfflineAudioContext")?e.webkitOfflineAudioContext:null)(At),Wt=(Vt=Lt,e=>null!==Vt&&e instanceof Vt);var Vt;const jt=new WeakMap,qt=(zt=vt,class{constructor(e){this._nativeEventTarget=e,this._listeners=new WeakMap}addEventListener(e,t,n){if(null!==t){let o=this._listeners.get(t);void 0===o&&(o=zt(this,t),"function"==typeof t&&this._listeners.set(t,o)),this._nativeEventTarget.addEventListener(e,o,n)}}dispatchEvent(e){return this._nativeEventTarget.dispatchEvent(e)}removeEventListener(e,t,n){const o=null===t?void 0:this._listeners.get(t);this._nativeEventTarget.removeEventListener(e,void 0===o?null:o,n)}});var zt;const Ut=(e=>null===e?null:e.hasOwnProperty("AudioContext")?e.AudioContext:e.hasOwnProperty("webkitAudioContext")?e.webkitAudioContext:null)(At),Xt=(Yt=Ut,e=>null!==Yt&&e instanceof Yt);var Yt;const Zt=(e=>t=>null!==e&&"function"==typeof e.AudioNode&&t instanceof e.AudioNode)(At),Gt=(e=>t=>null!==e&&"function"==typeof e.AudioParam&&t instanceof e.AudioParam)(At),Qt=((e,t,n,o,r,a,i,s,c,u,l,d,h,p,v)=>class extends u{constructor(t,o,r,a){super(r),this._context=t,this._nativeAudioNode=r;const i=l(t);d(i)&&!0!==n(de,()=>de(i))&&(e=>{const t=new Map;var n,o;e.connect=(n=e.connect.bind(e),(e,o=0,r=0)=>{const a=pe(e)?n(e,o,r):n(e,o),i=t.get(e);return void 0===i?t.set(e,[{input:r,output:o}]):i.every(e=>e.input!==r||e.output!==o)&&i.push({input:r,output:o}),a}),e.disconnect=(o=e.disconnect,(n,r,a)=>{if(o.apply(e),void 0===n)t.clear();else if("number"==typeof n)for(const[e,o]of t){const r=o.filter(e=>e.output!==n);0===r.length?t.delete(e):t.set(e,r)}else if(t.has(n))if(void 0===r)t.delete(n);else{const e=t.get(n);if(void 0!==e){const o=e.filter(e=>e.output!==r&&(e.input!==a||void 0===a));0===o.length?t.delete(n):t.set(n,o)}}for(const[n,o]of t)o.forEach(t=>{pe(n)?e.connect(n,t.output,t.input):e.connect(n,t.output)})})})(r),f.set(this,r),y.set(this,new Set),"closed"!==t.state&&o&&D(this),e(this,a,r)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(e){this._nativeAudioNode.channelCount=e}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(e){this._nativeAudioNode.channelCountMode=e}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(e){this._nativeAudioNode.channelInterpretation=e}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(e,n=0,s=0){if(n<0||n>=this._nativeAudioNode.numberOfOutputs)throw r();const u=l(this._context),d=v(u);if(h(e)||p(e))throw a();if($(e)){const r=se(e);try{const t=ne(this._nativeAudioNode,r,n,s),o=le(this);(d||o)&&this._nativeAudioNode.disconnect(...t),"closed"!==this.context.state&&!o&&le(e)&&D(e)}catch(e){if(12===e.code)throw a();throw e}if(t(this,e,n,s,d)){const t=c([this],e);he(t,o(d))}return e}const f=ce(e);if("playbackRate"===f.name)throw i();try{this._nativeAudioNode.connect(f,n),(d||le(this))&&this._nativeAudioNode.disconnect(f,n)}catch(e){if(12===e.code)throw a();throw e}if(fe(this,e,n,d)){const t=c([this],e);he(t,o(d))}}disconnect(e,t,n){let o;const i=l(this._context),u=v(i);if(void 0===e)o=((e,t)=>{const n=X(e),o=[];for(const r of n.outputs)H(r)?ve(e,t,...r):me(e,t,...r),o.push(r[0]);return n.outputs.clear(),o})(this,u);else if("number"==typeof e){if(e<0||e>=this.numberOfOutputs)throw r();o=((e,t,n)=>{const o=X(e),r=[];for(const a of o.outputs)a[1]===n&&(H(a)?ve(e,t,...a):me(e,t,...a),r.push(a[0]),o.outputs.delete(a));return r})(this,u,e)}else{if(void 0!==t&&(t<0||t>=this.numberOfOutputs))throw r();if($(e)&&void 0!==n&&(n<0||n>=e.numberOfInputs))throw r();if(o=((e,t,n,o,r)=>{const a=X(e);return Array.from(a.outputs).filter(e=>!(e[0]!==n||void 0!==o&&e[1]!==o||void 0!==r&&e[2]!==r)).map(n=>(H(n)?ve(e,t,...n):me(e,t,...n),a.outputs.delete(n),n[0]))})(this,u,e,t,n),0===o.length)throw a()}for(const e of o){const t=c([this],e);he(t,s)}}})(($t=p,(e,t,n)=>{const o=[];for(let e=0;e<n.numberOfInputs;e+=1)o.push(new Set);$t.set(e,{activeInputs:o,outputs:new Set,passiveInputs:new WeakMap,renderer:t})}),((e,t,n,o,r,a,i,s,c,u,l,d,h)=>(p,f,v,m,g)=>{const{activeInputs:y,passiveInputs:C}=a(f),{outputs:w}=a(p),b=s(p),M=a=>{const s=c(f),u=c(p);if(a){const t=T(C,p,v,m);e(y,p,t,!1),g||d(p)||n(u,s,v,m),h(f)&&D(f)}else{const e=o(y,p,v,m);t(C,m,e,!1),g||d(p)||r(u,s,v,m);const n=i(f);0===n?l(f)&&R(f,y):setTimeout(()=>{l(f)&&R(f,y)},1e3*n)}};return!!u(w,[f,v,m],e=>e[0]===f&&e[1]===v&&e[2]===m,!0)&&(b.add(M),l(p)?e(y,p,[v,m,M],!0):t(C,m,[p,v,M],!0),!0)})(mt,yt,ne,Ct,ie,X,bt,S,se,J,z,ue,le),Mt,((e,t,n,o,r,a)=>i=>(s,c)=>{const u=e.get(s);if(void 0===u){if(!i&&a(s)){const e=o(s),{outputs:a}=n(s);for(const n of a)if(H(n)){const r=o(n[0]);t(e,r,n[1],n[2])}else{const t=r(n[0]);e.disconnect(t,n[1])}}e.set(s,c)}else e.set(s,u+c)})(C,ie,X,se,ce,z),L,ke,tt,((e,t,n,o,r,a,i,s)=>(c,u)=>{const l=t.get(c);if(void 0===l)throw new Error("Missing the expected cycle count.");const d=a(c.context),h=s(d);if(l===u){if(t.delete(c),!h&&i(c)){const t=o(c),{outputs:a}=n(c);for(const n of a)if(H(n)){const r=o(n[0]);e(t,r,n[1],n[2])}else{const e=r(n[0]);t.connect(e,n[1])}}}else t.set(c,l-u)})(ne,C,X,se,ce,Ft,z,Wt),((e,t,n)=>function o(r,a){const i=$(a)?a:n(e,a);if((e=>"delayTime"in e)(i))return[];if(r[0]===i)return[r];if(r.includes(i))return[];const{outputs:s}=t(i);return Array.from(s).map(e=>o([...r,i],e[0])).reduce((e,t)=>e.concat(t),[])})(jt,X,E),qt,Ft,Xt,Zt,Gt,Wt);var $t;const Ht=((e,t,n,o,r,a)=>class extends e{constructor(e,n){const i=r(e),s={...P,...n},c=o(i,s);super(e,!1,c,a(i)?t():null),this._nativeAnalyserNode=c}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(e){this._nativeAnalyserNode.fftSize=e}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(e){const t=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=e,!(e>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=t,n()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(e){const t=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=e,!(this._nativeAnalyserNode.maxDecibels>e))throw this._nativeAnalyserNode.minDecibels=t,n()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(e){this._nativeAnalyserNode.smoothingTimeConstant=e}getByteFrequencyData(e){this._nativeAnalyserNode.getByteFrequencyData(e)}getByteTimeDomainData(e){this._nativeAnalyserNode.getByteTimeDomainData(e)}getFloatFrequencyData(e){this._nativeAnalyserNode.getFloatFrequencyData(e)}getFloatTimeDomainData(e){this._nativeAnalyserNode.getFloatTimeDomainData(e)}})(Qt,Nt,L,xt,Ft,Wt),Jt=new WeakSet,Kt=(e=>null===e?null:e.hasOwnProperty("AudioBuffer")?e.AudioBuffer:null)(At),en=(tn=new Uint32Array(1),e=>(tn[0]=e,tn[0]));var tn;const nn=((e,t)=>n=>{n.copyFromChannel=(o,r,a=0)=>{const i=e(a),s=e(r);if(s>=n.numberOfChannels)throw t();const c=n.length,u=n.getChannelData(s),l=o.length;for(let e=i<0?-i:0;e+i<c&&e<l;e+=1)o[e]=u[e+i]},n.copyToChannel=(o,r,a=0)=>{const i=e(a),s=e(r);if(s>=n.numberOfChannels)throw t();const c=n.length,u=n.getChannelData(s),l=o.length;for(let e=i<0?-i:0;e+i<c&&e<l;e+=1)u[e+i]=o[e]}})(en,L),on=(e=>t=>{t.copyFromChannel=(n=>(o,r,a=0)=>{const i=e(a),s=e(r);if(i<t.length)return n.call(t,o,s,i)})(t.copyFromChannel),t.copyToChannel=(n=>(o,r,a=0)=>{const i=e(a),s=e(r);if(i<t.length)return n.call(t,o,s,i)})(t.copyToChannel)})(en),rn=((e,t,n,o,r,a,i,s)=>{let c=null;return class u{constructor(u){if(null===r)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:l,numberOfChannels:d,sampleRate:h}={...V,...u};null===c&&(c=new r(1,1,44100));const p=null!==o&&t(a,a)?new o({length:l,numberOfChannels:d,sampleRate:h}):c.createBuffer(d,l,h);if(0===p.numberOfChannels)throw n();return"function"!=typeof p.copyFromChannel?(i(p),W(p)):t(B,()=>B(p))||s(p),e.add(p),p}static[Symbol.hasInstance](t){return null!==t&&"object"==typeof t&&Object.getPrototypeOf(t)===u.prototype||e.has(t)}}})(Jt,Mt,tt,Kt,Lt,(an=Kt,()=>{if(null===an)return!1;try{new an({length:1,sampleRate:44100})}catch{return!1}return!0}),nn,on);var an;const sn=(cn=He,(e,t)=>{const n=cn(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});t.connect(n).connect(e.destination);const o=()=>{t.removeEventListener("ended",o),t.disconnect(n),n.disconnect()};t.addEventListener("ended",o)});var cn;const un=((e,t,n)=>async(o,r,a,i)=>{const s=t(o);await Promise.all(Array.from(s.activeInputs).map(async([t,o])=>{const s=e(t),c=await s.render(t,r,i);n(t)||c.connect(a,o)}))})(Tt,Y,ue),ln=(e=>(t,n,o,r)=>e(n,t,o,r))(un),dn=((e,t,n,o,r,a,i,s,c,u,l)=>(d,h)=>{const p=d.createBufferSource();return Ve(p,h),qe(p,h,"playbackRate"),We(p,h,"buffer"),We(p,h,"loop"),We(p,h,"loopEnd"),We(p,h,"loopStart"),t(n,()=>n(d))||(e=>{e.start=(t=>{let n=!1;return(o=0,r=0,a)=>{if(n)throw Ne();t.call(e,o,r,a),n=!0}})(e.start)})(p),t(o,()=>o(d))||c(p),t(r,()=>r(d))||u(p,d),t(a,()=>a(d))||ze(p),t(i,()=>i(d))||l(p,d),t(s,()=>s(d))||Ue(p),e(d,p),p})(sn,Mt,e=>{const t=e.createBufferSource();t.start();try{t.start()}catch{return!0}return!1},e=>{const t=e.createBufferSource(),n=e.createBuffer(1,1,44100);t.buffer=n;try{t.start(0,1)}catch{return!1}return!0},e=>{const t=e.createBufferSource();t.start();try{t.stop()}catch{return!1}return!0},dt,ht,pt,e=>{var t;e.start=(t=e.start,(n=0,o=0,r)=>{const a=e.buffer,i=null===a?o:Math.min(a.duration,o);null!==a&&i>a.duration-.5/e.context.sampleRate?t.call(e,n,0,0):t.call(e,n,i,r)})},(hn=lt,(e,t)=>{const n=t.createBuffer(1,1,44100);null===e.buffer&&(e.buffer=n),hn(e,"buffer",t=>()=>{const o=t.call(e);return o===n?null:o},t=>o=>t.call(e,null===o?n:o))}),ft);var hn;const pn=((e,t)=>(n,o,r,a)=>(e(o).replay(r),t(o,n,r,a)))((e=>t=>{const n=e(t);if(null===n.renderer)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return n.renderer})(Y),un),fn=((e,t,n,o,r)=>()=>{const a=new WeakMap;let i=null,s=null;return{set start(e){i=e},set stop(e){s=e},render(c,u,l){const d=a.get(u);return void 0!==d?Promise.resolve(d):(async(c,u,l)=>{let d=n(c);const h=F(d,u);if(!h){const e={buffer:d.buffer,channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,loop:d.loop,loopEnd:d.loopEnd,loopStart:d.loopStart,playbackRate:d.playbackRate.value};d=t(u,e),null!==i&&d.start(...i),null!==s&&d.stop(s)}return a.set(u,d),h?await e(u,c.playbackRate,d.playbackRate,l):await o(u,c.playbackRate,d.playbackRate,l),await r(c,u,d,l),d})(c,u,l)}}})(ln,dn,se,pn,Dt),vn=((e,t,n,o,r,a,i,s,c,u,l,h)=>(p,f,v,m=null,g=null)=>{const y=new d.AutomationEventList(v.defaultValue),C=f?o(y):null,w={get defaultValue(){return v.defaultValue},get maxValue(){return null===m?v.maxValue:m},get minValue(){return null===g?v.minValue:g},get value(){return v.value},set value(e){v.value=e,w.setValueAtTime(e,p.context.currentTime)},cancelAndHoldAtTime(e){if("function"==typeof v.cancelAndHoldAtTime)null===C&&y.flush(p.context.currentTime),y.add(r(e)),v.cancelAndHoldAtTime(e);else{const t=Array.from(y).pop();null===C&&y.flush(p.context.currentTime),y.add(r(e));const n=Array.from(y).pop();v.cancelScheduledValues(e),t!==n&&void 0!==n&&("exponentialRampToValue"===n.type?v.exponentialRampToValueAtTime(n.value,n.endTime):"linearRampToValue"===n.type?v.linearRampToValueAtTime(n.value,n.endTime):"setValue"===n.type?v.setValueAtTime(n.value,n.startTime):"setValueCurve"===n.type&&v.setValueCurveAtTime(n.values,n.startTime,n.duration))}return w},cancelScheduledValues:e=>(null===C&&y.flush(p.context.currentTime),y.add(a(e)),v.cancelScheduledValues(e),w),exponentialRampToValueAtTime(e,t){if(0===e)throw new RangeError;if(!Number.isFinite(t)||t<0)throw new RangeError;return null===C&&y.flush(p.context.currentTime),y.add(i(e,t)),v.exponentialRampToValueAtTime(e,t),w},linearRampToValueAtTime:(e,t)=>(null===C&&y.flush(p.context.currentTime),y.add(s(e,t)),v.linearRampToValueAtTime(e,t),w),setTargetAtTime:(e,t,n)=>(null===C&&y.flush(p.context.currentTime),y.add(c(e,t,n)),v.setTargetAtTime(e,t,n),w),setValueAtTime:(e,t)=>(null===C&&y.flush(p.context.currentTime),y.add(u(e,t)),v.setValueAtTime(e,t),w),setValueCurveAtTime(e,t,n){const o=e instanceof Float32Array?e:new Float32Array(e);if(null!==h&&"webkitAudioContext"===h.name){const e=t+n,r=p.context.sampleRate,a=Math.ceil(t*r),i=Math.floor(e*r),s=i-a,c=new Float32Array(s);for(let e=0;e<s;e+=1){const i=(o.length-1)/n*((a+e)/r-t),s=Math.floor(i),u=Math.ceil(i);c[e]=s===u?o[s]:(1-(i-s))*o[s]+(1-(u-i))*o[u]}null===C&&y.flush(p.context.currentTime),y.add(l(c,t,n)),v.setValueCurveAtTime(c,t,n);const u=i/r;u<e&&w.setValueAtTime(c[c.length-1],u),w.setValueAtTime(o[o.length-1],e)}else null===C&&y.flush(p.context.currentTime),y.add(l(o,t,n)),v.setValueCurveAtTime(o,t,n);return w}};return n.set(w,v),t.set(w,p),e(w,C),w})((mn=v,(e,t)=>{mn.set(e,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:t})}),jt,m,e=>({replay(t){for(const n of e)if("exponentialRampToValue"===n.type){const{endTime:e,value:o}=n;t.exponentialRampToValueAtTime(o,e)}else if("linearRampToValue"===n.type){const{endTime:e,value:o}=n;t.linearRampToValueAtTime(o,e)}else if("setTarget"===n.type){const{startTime:e,target:o,timeConstant:r}=n;t.setTargetAtTime(o,e,r)}else if("setValue"===n.type){const{startTime:e,value:o}=n;t.setValueAtTime(o,e)}else{if("setValueCurve"!==n.type)throw new Error("Can't apply an unknown automation.");{const{duration:e,startTime:o,values:r}=n;t.setValueCurveAtTime(r,o,e)}}}}),d.createCancelAndHoldAutomationEvent,d.createCancelScheduledValuesAutomationEvent,d.createExponentialRampToValueAutomationEvent,d.createLinearRampToValueAutomationEvent,d.createSetTargetAutomationEvent,d.createSetValueAutomationEvent,d.createSetValueCurveAutomationEvent,Ut);var mn;const gn=((e,t,n,o,r,a,i,s)=>class extends e{constructor(e,o){const s=a(e),c={...U,...o},u=r(s,c),l=i(s),d=l?t():null;super(e,!1,u,d),this._audioBufferSourceNodeRenderer=d,this._isBufferNullified=!1,this._isBufferSet=null!==c.buffer,this._nativeAudioBufferSourceNode=u,this._onended=null,this._playbackRate=n(this,l,u.playbackRate,q,j)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(e){if(this._nativeAudioBufferSourceNode.buffer=e,null!==e){if(this._isBufferSet)throw o();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(e){this._nativeAudioBufferSourceNode.loop=e}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(e){this._nativeAudioBufferSourceNode.loopEnd=e}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(e){this._nativeAudioBufferSourceNode.loopStart=e}get onended(){return this._onended}set onended(e){const t="function"==typeof e?s(this,e):null;this._nativeAudioBufferSourceNode.onended=t;const n=this._nativeAudioBufferSourceNode.onended;this._onended=null!==n&&n===t?e:n}get playbackRate(){return this._playbackRate}start(e=0,t=0,n){if(this._nativeAudioBufferSourceNode.start(e,t,n),null!==this._audioBufferSourceNodeRenderer&&(this._audioBufferSourceNodeRenderer.start=void 0===n?[e,t]:[e,t,n]),"closed"!==this.context.state){D(this);const e=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",e),z(this)&&k(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",e)}}stop(e=0){this._nativeAudioBufferSourceNode.stop(e),null!==this._audioBufferSourceNodeRenderer&&(this._audioBufferSourceNodeRenderer.stop=e)}})(Qt,fn,vn,Ne,dn,Ft,Wt,vt),yn=((e,t,n,o,r,a,i,s)=>class extends e{constructor(e,n){const o=a(e),c=i(o),u=r(o,n,c);super(e,!1,u,c?t(s):null),this._isNodeOfNativeOfflineAudioContext=c,this._nativeAudioDestinationNode=u}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(e){if(this._isNodeOfNativeOfflineAudioContext)throw o();if(e>this._nativeAudioDestinationNode.maxChannelCount)throw n();this._nativeAudioDestinationNode.channelCount=e}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(e){if(this._isNodeOfNativeOfflineAudioContext)throw o();this._nativeAudioDestinationNode.channelCountMode=e}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}})(Qt,e=>{let t=null;return{render:(n,o,r)=>(null===t&&(t=(async(t,n,o)=>{const r=n.destination;return await e(t,n,r,o),r})(n,o,r)),t)}},L,Ne,((e,t)=>(n,o,r)=>{const a=n.destination;if(a.channelCount!==o)try{a.channelCount=o}catch{}r&&"explicit"!==a.channelCountMode&&(a.channelCountMode="explicit"),0===a.maxChannelCount&&Object.defineProperty(a,"maxChannelCount",{value:o});const i=e(n,{channelCount:o,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,gain:1});return t(i,"channelCount",e=>()=>e.call(i),e=>t=>{e.call(i,t);try{a.channelCount=t}catch(e){if(t>a.maxChannelCount)throw e}}),t(i,"channelCountMode",e=>()=>e.call(i),e=>t=>{e.call(i,t),a.channelCountMode=t}),t(i,"channelInterpretation",e=>()=>e.call(i),e=>t=>{e.call(i,t),a.channelInterpretation=t}),Object.defineProperty(i,"maxChannelCount",{get:()=>a.maxChannelCount}),i.connect(a),i})(He,lt),Ft,Wt,Dt),Cn=((e,t,n,o,r)=>()=>{const a=new WeakMap;return{render(i,s,c){const u=a.get(s);return void 0!==u?Promise.resolve(u):(async(i,s,c)=>{let u=n(i);const l=F(u,s);if(!l){const e={Q:u.Q.value,channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,detune:u.detune.value,frequency:u.frequency.value,gain:u.gain.value,type:u.type};u=t(s,e)}return a.set(s,u),l?(await e(s,i.Q,u.Q,c),await e(s,i.detune,u.detune,c),await e(s,i.frequency,u.frequency,c),await e(s,i.gain,u.gain,c)):(await o(s,i.Q,u.Q,c),await o(s,i.detune,u.detune,c),await o(s,i.frequency,u.frequency,c),await o(s,i.gain,u.gain,c)),await r(i,s,u,c),u})(i,s,c)}}})(ln,Ze,se,pn,Dt),wn=(e=>(t,n)=>e.set(t,n))(wt),bn=(Mn=Qt,_n=vn,On=Cn,An=ke,xn=Ze,En=Ft,In=Wt,Tn=wn,class extends Mn{constructor(e,t){const n=En(e),o={..._e,...t},r=xn(n,o),a=In(n);super(e,!1,r,a?On():null),this._Q=_n(this,a,r.Q,q,j),this._detune=_n(this,a,r.detune,1200*Math.log2(q),-1200*Math.log2(q)),this._frequency=_n(this,a,r.frequency,e.sampleRate/2,0),this._gain=_n(this,a,r.gain,40*Math.log10(q),j),this._nativeBiquadFilterNode=r,Tn(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(e){this._nativeBiquadFilterNode.type=e}getFrequencyResponse(e,t,n){if(this._nativeBiquadFilterNode.getFrequencyResponse(e,t,n),e.length!==t.length||t.length!==n.length)throw An()}});var Mn,_n,On,An,xn,En,In,Tn;const Sn=((e,t)=>(n,o,r)=>{const a=new Set;var i,s;return n.connect=(i=n.connect,(r,s=0,c=0)=>{const u=0===a.size;if(t(r))return i.call(n,r,s,c),e(a,[r,s,c],e=>e[0]===r&&e[1]===s&&e[2]===c,!0),u&&o(),r;i.call(n,r,s),e(a,[r,s],e=>e[0]===r&&e[1]===s,!0),u&&o()}),n.disconnect=(s=n.disconnect,(e,o,i)=>{const c=a.size>0;if(void 0===e)s.apply(n),a.clear();else if("number"==typeof e){s.call(n,e);for(const t of a)t[1]===e&&a.delete(t)}else{t(e)?s.call(n,e,o,i):s.call(n,e,o);for(const t of a)t[0]!==e||void 0!==o&&t[1]!==o||void 0!==i&&t[2]!==i||a.delete(t)}const u=0===a.size;c&&u&&r()}),n})(J,Zt),Dn=(Nn=Ne,kn=Sn,(e,t)=>{t.channelCount=1,t.channelCountMode="explicit",Object.defineProperty(t,"channelCount",{get:()=>1,set:()=>{throw Nn()}}),Object.defineProperty(t,"channelCountMode",{get:()=>"explicit",set:()=>{throw Nn()}});const n=e.createBufferSource();kn(t,()=>{const e=t.numberOfInputs;for(let o=0;o<e;o+=1)n.connect(t,0,o)},()=>n.disconnect(t))});var Nn,kn;const Rn=((e,t)=>(n,o)=>{const r=n.createChannelMerger(o.numberOfInputs);return null!==e&&"webkitAudioContext"===e.name&&t(n,r),Ve(r,o),r})(Ut,Dn),Pn=((e,t,n,o,r)=>class extends e{constructor(e,a){const i=o(e),s={...Oe,...a};super(e,!1,n(i,s),r(i)?t():null)}})(Qt,((e,t,n)=>()=>{const o=new WeakMap;return{render(r,a,i){const s=o.get(a);return void 0!==s?Promise.resolve(s):(async(r,a,i)=>{let s=t(r);if(!F(s,a)){const t={channelCount:s.channelCount,channelCountMode:s.channelCountMode,channelInterpretation:s.channelInterpretation,numberOfInputs:s.numberOfInputs};s=e(a,t)}return o.set(a,s),await n(r,a,s,i),s})(r,a,i)}}})(Rn,se,Dt),Rn,Ft,Wt),Fn=((e,t,n,o,r,a)=>class extends e{constructor(e,i){const s=o(e),c=a({...Ae,...i});super(e,!1,n(s,c),r(s)?t():null)}})(Qt,((e,t,n)=>()=>{const o=new WeakMap;return{render(r,a,i){const s=o.get(a);return void 0!==s?Promise.resolve(s):(async(r,a,i)=>{let s=t(r);if(!F(s,a)){const t={channelCount:s.channelCount,channelCountMode:s.channelCountMode,channelInterpretation:s.channelInterpretation,numberOfOutputs:s.numberOfOutputs};s=e(a,t)}return o.set(a,s),await n(r,a,s,i),s})(r,a,i)}}})(Ge,se,Dt),Ge,Ft,Wt,e=>({...e,channelCount:e.numberOfOutputs})),Bn=((e,t,n,o)=>(r,{offset:a,...i})=>{const s=r.createBuffer(1,2,44100),c=t(r,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),u=n(r,{...i,gain:a}),l=s.getChannelData(0);l[0]=1,l[1]=1,c.buffer=s,c.loop=!0;const d={get bufferSize(){},get channelCount(){return u.channelCount},set channelCount(e){u.channelCount=e},get channelCountMode(){return u.channelCountMode},set channelCountMode(e){u.channelCountMode=e},get channelInterpretation(){return u.channelInterpretation},set channelInterpretation(e){u.channelInterpretation=e},get context(){return u.context},get inputs(){return[]},get numberOfInputs(){return c.numberOfInputs},get numberOfOutputs(){return u.numberOfOutputs},get offset(){return u.gain},get onended(){return c.onended},set onended(e){c.onended=e},addEventListener:(...e)=>c.addEventListener(e[0],e[1],e[2]),dispatchEvent:(...e)=>c.dispatchEvent(e[0]),removeEventListener:(...e)=>c.removeEventListener(e[0],e[1],e[2]),start(e=0){c.start.call(c,e)},stop(e=0){c.stop.call(c,e)}};return e(r,c),o(Qe(d,u),()=>c.connect(u),()=>c.disconnect(u))})(sn,dn,He,Sn),Ln=((e,t,n,o,r)=>(a,i)=>{if(void 0===a.createConstantSource)return n(a,i);const s=a.createConstantSource();return Ve(s,i),qe(s,i,"offset"),t(o,()=>o(a))||ze(s),t(r,()=>r(a))||Ue(s),e(a,s),s})(sn,Mt,Bn,dt,pt),Wn=((e,t,n,o,r,a,i)=>class extends e{constructor(e,i){const s=r(e),c={...xe,...i},u=o(s,c),l=a(s),d=l?n():null;super(e,!1,u,d),this._constantSourceNodeRenderer=d,this._nativeConstantSourceNode=u,this._offset=t(this,l,u.offset,q,j),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(e){const t="function"==typeof e?i(this,e):null;this._nativeConstantSourceNode.onended=t;const n=this._nativeConstantSourceNode.onended;this._onended=null!==n&&n===t?e:n}start(e=0){if(this._nativeConstantSourceNode.start(e),null!==this._constantSourceNodeRenderer&&(this._constantSourceNodeRenderer.start=e),"closed"!==this.context.state){D(this);const e=()=>{this._nativeConstantSourceNode.removeEventListener("ended",e),z(this)&&k(this)};this._nativeConstantSourceNode.addEventListener("ended",e)}}stop(e=0){this._nativeConstantSourceNode.stop(e),null!==this._constantSourceNodeRenderer&&(this._constantSourceNodeRenderer.stop=e)}})(Qt,vn,((e,t,n,o,r)=>()=>{const a=new WeakMap;let i=null,s=null;return{set start(e){i=e},set stop(e){s=e},render(c,u,l){const d=a.get(u);return void 0!==d?Promise.resolve(d):(async(c,u,l)=>{let d=n(c);const h=F(d,u);if(!h){const e={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,offset:d.offset.value};d=t(u,e),null!==i&&d.start(i),null!==s&&d.stop(s)}return a.set(u,d),h?await e(u,c.offset,d.offset,l):await o(u,c.offset,d.offset,l),await r(c,u,d,l),d})(c,u,l)}}})(ln,Ln,se,pn,Dt),Ln,Ft,Wt,vt),Vn=((e,t)=>(n,o)=>{const r=n.createConvolver();if(Ve(r,o),o.disableNormalization===r.normalize&&(r.normalize=!o.disableNormalization),We(r,o,"buffer"),o.channelCount>2)throw e();if(t(r,"channelCount",e=>()=>e.call(r),t=>n=>{if(n>2)throw e();return t.call(r,n)}),"max"===o.channelCountMode)throw e();return t(r,"channelCountMode",e=>()=>e.call(r),t=>n=>{if("max"===n)throw e();return t.call(r,n)}),r})(tt,lt),jn=((e,t,n,o,r,a)=>class extends e{constructor(e,i){const s=o(e),c={...Ee,...i},u=n(s,c);super(e,!1,u,r(s)?t():null),this._isBufferNullified=!1,this._nativeConvolverNode=u,null!==c.buffer&&a(this,c.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(e){if(this._nativeConvolverNode.buffer=e,null===e&&null!==this._nativeConvolverNode.buffer){const e=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=e.createBuffer(1,1,44100),this._isBufferNullified=!0,a(this,0)}else this._isBufferNullified=!1,a(this,null===this._nativeConvolverNode.buffer?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(e){this._nativeConvolverNode.normalize=e}})(Qt,((e,t,n)=>()=>{const o=new WeakMap;return{render(r,a,i){const s=o.get(a);return void 0!==s?Promise.resolve(s):(async(r,a,i)=>{let s=t(r);if(!F(s,a)){const t={buffer:s.buffer,channelCount:s.channelCount,channelCountMode:s.channelCountMode,channelInterpretation:s.channelInterpretation,disableNormalization:!s.normalize};s=e(a,t)}return o.set(a,s),te(s)?await n(r,a,s.inputs[0],i):await n(r,a,s,i),s})(r,a,i)}}})(Vn,se,Dt),Vn,Ft,Wt,wn),qn=((e,t,n,o,r,a,i)=>class extends e{constructor(e,s){const c=r(e),u={...Ie,...s},l=o(c,u),d=a(c);super(e,!1,l,d?n(u.maxDelayTime):null),this._delayTime=t(this,d,l.delayTime),i(this,u.maxDelayTime)}get delayTime(){return this._delayTime}})(Qt,vn,((e,t,n,o,r)=>a=>{const i=new WeakMap;return{render(s,c,u){const l=i.get(c);return void 0!==l?Promise.resolve(l):(async(s,c,u)=>{let l=n(s);const d=F(l,c);if(!d){const e={channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,delayTime:l.delayTime.value,maxDelayTime:a};l=t(c,e)}return i.set(c,l),d?await e(c,s.delayTime,l.delayTime,u):await o(c,s.delayTime,l.delayTime,u),await r(s,c,l,u),l})(s,c,u)}}})(ln,$e,se,pn,Dt),$e,Ft,Wt,wn),zn=(Un=tt,(e,t)=>{const n=e.createDynamicsCompressor();if(Ve(n,t),t.channelCount>2)throw Un();if("max"===t.channelCountMode)throw Un();return qe(n,t,"attack"),qe(n,t,"knee"),qe(n,t,"ratio"),qe(n,t,"release"),qe(n,t,"threshold"),n});var Un;const Xn=((e,t,n,o,r,a,i,s)=>class extends e{constructor(e,r){const c=a(e),u={...Se,...r},l=o(c,u),d=i(c);super(e,!1,l,d?n():null),this._attack=t(this,d,l.attack),this._knee=t(this,d,l.knee),this._nativeDynamicsCompressorNode=l,this._ratio=t(this,d,l.ratio),this._release=t(this,d,l.release),this._threshold=t(this,d,l.threshold),s(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(e){const t=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=e,e>2)throw this._nativeDynamicsCompressorNode.channelCount=t,r()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(e){const t=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=e,"max"===e)throw this._nativeDynamicsCompressorNode.channelCountMode=t,r()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return"number"==typeof this._nativeDynamicsCompressorNode.reduction.value?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}})(Qt,vn,((e,t,n,o,r)=>()=>{const a=new WeakMap;return{render(i,s,c){const u=a.get(s);return void 0!==u?Promise.resolve(u):(async(i,s,c)=>{let u=n(i);const l=F(u,s);if(!l){const e={attack:u.attack.value,channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,knee:u.knee.value,ratio:u.ratio.value,release:u.release.value,threshold:u.threshold.value};u=t(s,e)}return a.set(s,u),l?(await e(s,i.attack,u.attack,c),await e(s,i.knee,u.knee,c),await e(s,i.ratio,u.ratio,c),await e(s,i.release,u.release,c),await e(s,i.threshold,u.threshold,c)):(await o(s,i.attack,u.attack,c),await o(s,i.knee,u.knee,c),await o(s,i.ratio,u.ratio,c),await o(s,i.release,u.release,c),await o(s,i.threshold,u.threshold,c)),await r(i,s,u,c),u})(i,s,c)}}})(ln,zn,se,pn,Dt),zn,tt,Ft,Wt,wn),Yn=((e,t,n,o,r,a)=>class extends e{constructor(e,i){const s=r(e),c={...De,...i},u=o(s,c),l=a(s);super(e,!1,u,l?n():null),this._gain=t(this,l,u.gain,q,j)}get gain(){return this._gain}})(Qt,vn,((e,t,n,o,r)=>()=>{const a=new WeakMap;return{render(i,s,c){const u=a.get(s);return void 0!==u?Promise.resolve(u):(async(i,s,c)=>{let u=n(i);const l=F(u,s);if(!l){const e={channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,gain:u.gain.value};u=t(s,e)}return a.set(s,u),l?await e(s,i.gain,u.gain,c):await o(s,i.gain,u.gain,c),await r(i,s,u,c),u})(i,s,c)}}})(ln,He,se,pn,Dt),He,Ft,Wt),Zn=((e,t,n,o)=>(r,a,{channelCount:i,channelCountMode:s,channelInterpretation:c,feedback:u,feedforward:l})=>{const d=Xe(a,r.sampleRate),h=u instanceof Float64Array?u:new Float64Array(u),p=l instanceof Float64Array?l:new Float64Array(l),f=h.length,v=p.length,m=Math.min(f,v);if(0===f||f>20)throw o();if(0===h[0])throw t();if(0===v||v>20)throw o();if(0===p[0])throw t();if(1!==h[0]){for(let e=0;e<v;e+=1)p[e]/=h[0];for(let e=1;e<f;e+=1)h[e]/=h[0]}const g=n(r,d,i,i);g.channelCount=i,g.channelCountMode=s,g.channelInterpretation=c;const y=[],C=[],w=[];for(let e=0;e<i;e+=1){y.push(0);const e=new Float32Array(32),t=new Float32Array(32);e.fill(0),t.fill(0),C.push(e),w.push(t)}g.onaudioprocess=e=>{const t=e.inputBuffer,n=e.outputBuffer,o=t.numberOfChannels;for(let e=0;e<o;e+=1){const o=t.getChannelData(e),r=n.getChannelData(e);y[e]=Pe(h,f,p,v,m,C[e],w[e],y[e],32,o,r)}};const b=r.sampleRate/2;return Qe({get bufferSize(){return d},get channelCount(){return g.channelCount},set channelCount(e){g.channelCount=e},get channelCountMode(){return g.channelCountMode},set channelCountMode(e){g.channelCountMode=e},get channelInterpretation(){return g.channelInterpretation},set channelInterpretation(e){g.channelInterpretation=e},get context(){return g.context},get inputs(){return[g]},get numberOfInputs(){return g.numberOfInputs},get numberOfOutputs(){return g.numberOfOutputs},addEventListener:(...e)=>g.addEventListener(e[0],e[1],e[2]),dispatchEvent:(...e)=>g.dispatchEvent(e[0]),getFrequencyResponse(t,n,o){if(t.length!==n.length||n.length!==o.length)throw e();const r=t.length;for(let e=0;e<r;e+=1){const r=-Math.PI*(t[e]/b),a=[Math.cos(r),Math.sin(r)],i=Je(Ke(p,a),Ke(h,a));n[e]=Math.sqrt(i[0]*i[0]+i[1]*i[1]),o[e]=Math.atan2(i[1],i[0])}},removeEventListener:(...e)=>g.removeEventListener(e[0],e[1],e[2])},g)})(ke,Ne,et,tt),Gn=((e,t,n,o)=>r=>e(Be,()=>Be(r))?Promise.resolve(e(o,o)).then(e=>{if(!e){const e=n(r,512,0,1);r.oncomplete=()=>{e.onaudioprocess=null,e.disconnect()},e.onaudioprocess=()=>r.currentTime,e.connect(r.destination)}return r.startRendering()}):new Promise(e=>{const n=t(r,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});r.oncomplete=t=>{n.disconnect(),e(t.renderedBuffer)},n.connect(r.destination),r.startRendering()}))(Mt,He,et,((e,t)=>()=>{if(null===t)return Promise.resolve(!1);const n=new t(1,1,44100),o=e(n,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(e=>{n.oncomplete=()=>{o.disconnect(),e(0!==n.currentTime)},n.startRendering()})})(He,Lt)),Qn=((e,t,n,o,r)=>(a,i)=>{const s=new WeakMap;let c=null;const u=async(u,l,d)=>{let h=null,p=t(u);const f=F(p,l);if(void 0===l.createIIRFilter?h=e(l,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):f||(p=l.createIIRFilter(i,a)),s.set(l,null===h?p:h),null!==h){if(null===c){if(null===n)throw new Error("Missing the native OfflineAudioContext constructor.");const e=new n(u.context.destination.channelCount,u.context.length,l.sampleRate);c=(async()=>{await o(u,e,e.destination,d);return((e,t,n,o)=>{const r=n instanceof Float64Array?n:new Float64Array(n),a=o instanceof Float64Array?o:new Float64Array(o),i=r.length,s=a.length,c=Math.min(i,s);if(1!==r[0]){for(let e=0;e<i;e+=1)a[e]/=r[0];for(let e=1;e<s;e+=1)r[e]/=r[0]}const u=new Float32Array(32),l=new Float32Array(32),d=t.createBuffer(e.numberOfChannels,e.length,e.sampleRate),h=e.numberOfChannels;for(let t=0;t<h;t+=1){const n=e.getChannelData(t),o=d.getChannelData(t);u.fill(0),l.fill(0),Pe(r,i,a,s,c,u,l,0,32,n,o)}return d})(await r(e),l,a,i)})()}const e=await c;return h.buffer=e,h.start(0),h}return await o(u,l,p,d),p};return{render(e,t,n){const o=s.get(t);return void 0!==o?Promise.resolve(o):u(e,t,n)}}})(dn,se,Lt,Dt,Gn);var $n;const Hn=((e,t,n,o,r,a)=>class extends e{constructor(e,i){const s=o(e),c=r(s),u={...Re,...i},l=t(s,c?null:e.baseLatency,u);super(e,!1,l,c?n(u.feedback,u.feedforward):null),(e=>{var t;e.getFrequencyResponse=(t=e.getFrequencyResponse,(n,o,r)=>{if(n.length!==o.length||o.length!==r.length)throw ke();return t.call(e,n,o,r)})})(l),this._nativeIIRFilterNode=l,a(this,1)}getFrequencyResponse(e,t,n){return this._nativeIIRFilterNode.getFrequencyResponse(e,t,n)}})(Qt,($n=Zn,(e,t,n)=>{if(void 0===e.createIIRFilter)return $n(e,t,n);const o=e.createIIRFilter(n.feedforward,n.feedback);return Ve(o,n),o}),Qn,Ft,Wt,wn),Jn=((e,t,n,o,r)=>(a,i)=>{const s=i.listener,{forwardX:c,forwardY:u,forwardZ:l,positionX:d,positionY:h,positionZ:p,upX:f,upY:v,upZ:m}=void 0===s.forwardX?(()=>{const c=t(i,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),u=r(i),l=o(i,256,9,0),d=(t,o)=>{const r=n(i,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:o});return r.connect(c,0,t),r.start(),Object.defineProperty(r.offset,"defaultValue",{get:()=>o}),e({context:a},u,r.offset,q,j)};let h=[0,0,-1,0,1,0],p=[0,0,0];return l.onaudioprocess=({inputBuffer:e})=>{const t=[e.getChannelData(0)[0],e.getChannelData(1)[0],e.getChannelData(2)[0],e.getChannelData(3)[0],e.getChannelData(4)[0],e.getChannelData(5)[0]];t.some((e,t)=>e!==h[t])&&(s.setOrientation(...t),h=t);const n=[e.getChannelData(6)[0],e.getChannelData(7)[0],e.getChannelData(8)[0]];n.some((e,t)=>e!==p[t])&&(s.setPosition(...n),p=n)},c.connect(l),{forwardX:d(0,0),forwardY:d(1,0),forwardZ:d(2,-1),positionX:d(6,0),positionY:d(7,0),positionZ:d(8,0),upX:d(3,0),upY:d(4,1),upZ:d(5,0)}})():s;return{get forwardX(){return c},get forwardY(){return u},get forwardZ(){return l},get positionX(){return d},get positionY(){return h},get positionZ(){return p},get upX(){return f},get upY(){return v},get upZ(){return m}}})(vn,Rn,Ln,et,Wt),Kn=new WeakMap,eo=((e,t,n,o,r,a)=>class extends n{constructor(n,a){super(n),this._nativeContext=n,g.set(this,n),o(n)&&r.set(n,new Set),this._destination=new e(this,a),this._listener=t(this,n),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(e){const t="function"==typeof e?a(this,e):null;this._nativeContext.onstatechange=t;const n=this._nativeContext.onstatechange;this._onstatechange=null!==n&&n===t?e:n}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}})(yn,Jn,qt,Wt,Kn,vt),to=((e,t,n,o,r,a)=>(i,s)=>{const c=i.createOscillator();return Ve(c,s),qe(c,s,"detune"),qe(c,s,"frequency"),void 0!==s.periodicWave?c.setPeriodicWave(s.periodicWave):We(c,s,"type"),t(n,()=>n(i))||ze(c),t(o,()=>o(i))||a(c,i),t(r,()=>r(i))||Ue(c),e(i,c),c})(sn,Mt,dt,ht,pt,ft),no=((e,t,n,o,r,a,i)=>class extends e{constructor(e,i){const s=r(e),c={...ot,...i},u=n(s,c),l=a(s),d=l?o():null,h=e.sampleRate/2;super(e,!1,u,d),this._detune=t(this,l,u.detune,153600,-153600),this._frequency=t(this,l,u.frequency,h,-h),this._nativeOscillatorNode=u,this._onended=null,this._oscillatorNodeRenderer=d,null!==this._oscillatorNodeRenderer&&void 0!==c.periodicWave&&(this._oscillatorNodeRenderer.periodicWave=c.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(e){const t="function"==typeof e?i(this,e):null;this._nativeOscillatorNode.onended=t;const n=this._nativeOscillatorNode.onended;this._onended=null!==n&&n===t?e:n}get type(){return this._nativeOscillatorNode.type}set type(e){this._nativeOscillatorNode.type=e,null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(e){this._nativeOscillatorNode.setPeriodicWave(e),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.periodicWave=e)}start(e=0){if(this._nativeOscillatorNode.start(e),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.start=e),"closed"!==this.context.state){D(this);const e=()=>{this._nativeOscillatorNode.removeEventListener("ended",e),z(this)&&k(this)};this._nativeOscillatorNode.addEventListener("ended",e)}}stop(e=0){this._nativeOscillatorNode.stop(e),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.stop=e)}})(Qt,vn,to,((e,t,n,o,r)=>()=>{const a=new WeakMap;let i=null,s=null,c=null;return{set periodicWave(e){i=e},set start(e){s=e},set stop(e){c=e},render(u,l,d){const h=a.get(l);return void 0!==h?Promise.resolve(h):(async(u,l,d)=>{let h=n(u);const p=F(h,l);if(!p){const e={channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,detune:h.detune.value,frequency:h.frequency.value,periodicWave:null===i?void 0:i,type:h.type};h=t(l,e),null!==s&&h.start(s),null!==c&&h.stop(c)}return a.set(l,h),p?(await e(l,u.detune,h.detune,d),await e(l,u.frequency,h.frequency,d)):(await o(l,u.detune,h.detune,d),await o(l,u.frequency,h.frequency,d)),await r(u,l,h,d),h})(u,l,d)}}})(ln,to,se,pn,Dt),Ft,Wt,vt),oo=(ro=dn,(e,t)=>{const n=ro(e,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),o=e.createBuffer(1,2,44100);return n.buffer=o,n.loop=!0,n.connect(t),n.start(),()=>{n.stop(),n.disconnect(t)}});var ro;const ao=((e,t,n,o,r)=>(a,{curve:i,oversample:s,...c})=>{const u=a.createWaveShaper(),l=a.createWaveShaper();Ve(u,c),Ve(l,c);const d=n(a,{...c,gain:1}),h=n(a,{...c,gain:-1}),p=n(a,{...c,gain:1}),f=n(a,{...c,gain:-1});let v=null,m=!1,g=null;const y={get bufferSize(){},get channelCount(){return u.channelCount},set channelCount(e){d.channelCount=e,h.channelCount=e,u.channelCount=e,p.channelCount=e,l.channelCount=e,f.channelCount=e},get channelCountMode(){return u.channelCountMode},set channelCountMode(e){d.channelCountMode=e,h.channelCountMode=e,u.channelCountMode=e,p.channelCountMode=e,l.channelCountMode=e,f.channelCountMode=e},get channelInterpretation(){return u.channelInterpretation},set channelInterpretation(e){d.channelInterpretation=e,h.channelInterpretation=e,u.channelInterpretation=e,p.channelInterpretation=e,l.channelInterpretation=e,f.channelInterpretation=e},get context(){return u.context},get curve(){return g},set curve(n){if(null!==n&&n.length<2)throw t();if(null===n)u.curve=n,l.curve=n;else{const e=n.length,t=new Float32Array(e+2-e%2),o=new Float32Array(e+2-e%2);t[0]=n[0],o[0]=-n[e-1];const r=Math.ceil((e+1)/2),a=(e+1)/2-1;for(let i=1;i<r;i+=1){const s=i/r*a,c=Math.floor(s),u=Math.ceil(s);t[i]=c===u?n[c]:(1-(s-c))*n[c]+(1-(u-s))*n[u],o[i]=c===u?-n[e-1-c]:-(1-(s-c))*n[e-1-c]-(1-(u-s))*n[e-1-u]}t[r]=e%2==1?n[r-1]:(n[r-2]+n[r-1])/2,u.curve=t,l.curve=o}g=n,m&&(o(g)&&null===v?v=e(a,d):null!==v&&(v(),v=null))},get inputs(){return[d]},get numberOfInputs(){return u.numberOfInputs},get numberOfOutputs(){return u.numberOfOutputs},get oversample(){return u.oversample},set oversample(e){u.oversample=e,l.oversample=e},addEventListener:(...e)=>d.addEventListener(e[0],e[1],e[2]),dispatchEvent:(...e)=>d.dispatchEvent(e[0]),removeEventListener:(...e)=>d.removeEventListener(e[0],e[1],e[2])};null!==i&&(y.curve=i instanceof Float32Array?i:new Float32Array(i)),s!==y.oversample&&(y.oversample=s);return r(Qe(y,p),()=>{d.connect(u).connect(p),d.connect(h).connect(l).connect(f).connect(p),m=!0,o(g)&&(v=e(a,d))},()=>{d.disconnect(u),u.disconnect(p),d.disconnect(h),h.disconnect(l),l.disconnect(f),f.disconnect(p),m=!1,null!==v&&(v(),v=null)})})(oo,Ne,He,ut,Sn),io=((e,t,n,o,r,a,i)=>(s,c)=>{const u=s.createWaveShaper();if(null!==a&&"webkitAudioContext"===a.name)return n(s,c);Ve(u,c);const l=null===c.curve||c.curve instanceof Float32Array?c.curve:new Float32Array(c.curve);if(null!==l&&l.length<2)throw t();We(u,{curve:l},"curve"),We(u,c,"oversample");let d=null,h=!1;i(u,"curve",e=>()=>e.call(u),t=>n=>(t.call(u,n),h&&(o(n)&&null===d?d=e(s,u):o(n)||null===d||(d(),d=null)),n));return r(u,()=>{h=!0,o(u.curve)&&(d=e(s,u))},()=>{h=!1,null!==d&&(d(),d=null)})})(oo,Ne,ao,ut,Sn,Ut,lt),so=((e,t,n,o,r,a,i,s,c)=>(u,{coneInnerAngle:l,coneOuterAngle:d,coneOuterGain:h,distanceModel:p,maxDistance:f,orientationX:v,orientationY:m,orientationZ:g,panningModel:y,positionX:C,positionY:w,positionZ:b,refDistance:M,rolloffFactor:_,...O})=>{const A=u.createPanner();if(O.channelCount>2)throw i();if("max"===O.channelCountMode)throw i();Ve(A,O);const x={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},E=n(u,{...x,channelInterpretation:"speakers",numberOfInputs:6}),I=o(u,{...O,gain:1}),T=o(u,{...x,gain:1}),S=o(u,{...x,gain:0}),D=o(u,{...x,gain:0}),N=o(u,{...x,gain:0}),k=o(u,{...x,gain:0}),R=o(u,{...x,gain:0}),P=r(u,256,6,1),F=a(u,{...x,curve:new Float32Array([1,1]),oversample:"none"});let B=[v,m,g],L=[C,w,b];P.onaudioprocess=({inputBuffer:e})=>{const t=[e.getChannelData(0)[0],e.getChannelData(1)[0],e.getChannelData(2)[0]];t.some((e,t)=>e!==B[t])&&(A.setOrientation(...t),B=t);const n=[e.getChannelData(3)[0],e.getChannelData(4)[0],e.getChannelData(5)[0]];n.some((e,t)=>e!==L[t])&&(A.setPosition(...n),L=n)},Object.defineProperty(S.gain,"defaultValue",{get:()=>0}),Object.defineProperty(D.gain,"defaultValue",{get:()=>0}),Object.defineProperty(N.gain,"defaultValue",{get:()=>0}),Object.defineProperty(k.gain,"defaultValue",{get:()=>0}),Object.defineProperty(R.gain,"defaultValue",{get:()=>0});const W={get bufferSize(){},get channelCount(){return A.channelCount},set channelCount(e){if(e>2)throw i();I.channelCount=e,A.channelCount=e},get channelCountMode(){return A.channelCountMode},set channelCountMode(e){if("max"===e)throw i();I.channelCountMode=e,A.channelCountMode=e},get channelInterpretation(){return A.channelInterpretation},set channelInterpretation(e){I.channelInterpretation=e,A.channelInterpretation=e},get coneInnerAngle(){return A.coneInnerAngle},set coneInnerAngle(e){A.coneInnerAngle=e},get coneOuterAngle(){return A.coneOuterAngle},set coneOuterAngle(e){A.coneOuterAngle=e},get coneOuterGain(){return A.coneOuterGain},set coneOuterGain(e){if(e<0||e>1)throw t();A.coneOuterGain=e},get context(){return A.context},get distanceModel(){return A.distanceModel},set distanceModel(e){A.distanceModel=e},get inputs(){return[I]},get maxDistance(){return A.maxDistance},set maxDistance(e){if(e<0)throw new RangeError;A.maxDistance=e},get numberOfInputs(){return A.numberOfInputs},get numberOfOutputs(){return A.numberOfOutputs},get orientationX(){return T.gain},get orientationY(){return S.gain},get orientationZ(){return D.gain},get panningModel(){return A.panningModel},set panningModel(e){A.panningModel=e},get positionX(){return N.gain},get positionY(){return k.gain},get positionZ(){return R.gain},get refDistance(){return A.refDistance},set refDistance(e){if(e<0)throw new RangeError;A.refDistance=e},get rolloffFactor(){return A.rolloffFactor},set rolloffFactor(e){if(e<0)throw new RangeError;A.rolloffFactor=e},addEventListener:(...e)=>I.addEventListener(e[0],e[1],e[2]),dispatchEvent:(...e)=>I.dispatchEvent(e[0]),removeEventListener:(...e)=>I.removeEventListener(e[0],e[1],e[2])};l!==W.coneInnerAngle&&(W.coneInnerAngle=l),d!==W.coneOuterAngle&&(W.coneOuterAngle=d),h!==W.coneOuterGain&&(W.coneOuterGain=h),p!==W.distanceModel&&(W.distanceModel=p),f!==W.maxDistance&&(W.maxDistance=f),v!==W.orientationX.value&&(W.orientationX.value=v),m!==W.orientationY.value&&(W.orientationY.value=m),g!==W.orientationZ.value&&(W.orientationZ.value=g),y!==W.panningModel&&(W.panningModel=y),C!==W.positionX.value&&(W.positionX.value=C),w!==W.positionY.value&&(W.positionY.value=w),b!==W.positionZ.value&&(W.positionZ.value=b),M!==W.refDistance&&(W.refDistance=M),_!==W.rolloffFactor&&(W.rolloffFactor=_),1===B[0]&&0===B[1]&&0===B[2]||A.setOrientation(...B),0===L[0]&&0===L[1]&&0===L[2]||A.setPosition(...L);return c(Qe(W,A),()=>{I.connect(A),e(I,F,0,0),F.connect(T).connect(E,0,0),F.connect(S).connect(E,0,1),F.connect(D).connect(E,0,2),F.connect(N).connect(E,0,3),F.connect(k).connect(E,0,4),F.connect(R).connect(E,0,5),E.connect(P).connect(u.destination)},()=>{I.disconnect(A),s(I,F,0,0),F.disconnect(T),T.disconnect(E),F.disconnect(S),S.disconnect(E),F.disconnect(D),D.disconnect(E),F.disconnect(N),N.disconnect(E),F.disconnect(k),k.disconnect(E),F.disconnect(R),R.disconnect(E),E.disconnect(P),P.disconnect(u.destination)})})(ne,Ne,Rn,He,et,io,tt,ie,Sn),co=(uo=so,(e,t)=>{const n=e.createPanner();return void 0===n.orientationX?uo(e,t):(Ve(n,t),qe(n,t,"orientationX"),qe(n,t,"orientationY"),qe(n,t,"orientationZ"),qe(n,t,"positionX"),qe(n,t,"positionY"),qe(n,t,"positionZ"),We(n,t,"coneInnerAngle"),We(n,t,"coneOuterAngle"),We(n,t,"coneOuterGain"),We(n,t,"distanceModel"),We(n,t,"maxDistance"),We(n,t,"panningModel"),We(n,t,"refDistance"),We(n,t,"rolloffFactor"),n)});var uo;const lo=((e,t,n,o,r,a,i)=>class extends e{constructor(e,s){const c=r(e),u={...rt,...s},l=n(c,u),d=a(c);super(e,!1,l,d?o():null),this._nativePannerNode=l,this._orientationX=t(this,d,l.orientationX,q,j),this._orientationY=t(this,d,l.orientationY,q,j),this._orientationZ=t(this,d,l.orientationZ,q,j),this._positionX=t(this,d,l.positionX,q,j),this._positionY=t(this,d,l.positionY,q,j),this._positionZ=t(this,d,l.positionZ,q,j),i(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(e){this._nativePannerNode.coneInnerAngle=e}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(e){this._nativePannerNode.coneOuterAngle=e}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(e){this._nativePannerNode.coneOuterGain=e}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(e){this._nativePannerNode.distanceModel=e}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(e){this._nativePannerNode.maxDistance=e}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(e){this._nativePannerNode.panningModel=e}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(e){this._nativePannerNode.refDistance=e}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(e){this._nativePannerNode.rolloffFactor=e}})(Qt,vn,co,((e,t,n,o,r,a,i,s,c,u)=>()=>{const l=new WeakMap;let d=null;return{render(h,p,f){const v=l.get(p);return void 0!==v?Promise.resolve(v):(async(h,p,f)=>{let v=null,m=a(h);const g={channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation},y={...g,coneInnerAngle:m.coneInnerAngle,coneOuterAngle:m.coneOuterAngle,coneOuterGain:m.coneOuterGain,distanceModel:m.distanceModel,maxDistance:m.maxDistance,panningModel:m.panningModel,refDistance:m.refDistance,rolloffFactor:m.rolloffFactor},C=F(m,p);if("bufferSize"in m)v=o(p,{...g,gain:1});else if(!C){const e={...y,orientationX:m.orientationX.value,orientationY:m.orientationY.value,orientationZ:m.orientationZ.value,positionX:m.positionX.value,positionY:m.positionY.value,positionZ:m.positionZ.value};m=r(p,e)}if(l.set(p,null===v?m:v),null!==v){if(null===d){if(null===i)throw new Error("Missing the native OfflineAudioContext constructor.");const e=new i(6,h.context.length,p.sampleRate),o=t(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});o.connect(e.destination),d=(async()=>{const t=await Promise.all([h.orientationX,h.orientationY,h.orientationZ,h.positionX,h.positionY,h.positionZ].map(async(t,o)=>{const r=n(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:0===o?1:0});return await s(e,t,r.offset,f),r}));for(let e=0;e<6;e+=1)t[e].connect(o,0,e),t[e].start(0);return u(e)})()}const e=await d,a=o(p,{...g,gain:1});await c(h,p,a,f);const l=[];for(let t=0;t<e.numberOfChannels;t+=1)l.push(e.getChannelData(t));let m=[l[0][0],l[1][0],l[2][0]],C=[l[3][0],l[4][0],l[5][0]],w=o(p,{...g,gain:1}),b=r(p,{...y,orientationX:m[0],orientationY:m[1],orientationZ:m[2],positionX:C[0],positionY:C[1],positionZ:C[2]});a.connect(w).connect(b.inputs[0]),b.connect(v);for(let t=128;t<e.length;t+=128){const e=[l[0][t],l[1][t],l[2][t]],n=[l[3][t],l[4][t],l[5][t]];if(e.some((e,t)=>e!==m[t])||n.some((e,t)=>e!==C[t])){m=e,C=n;const i=t/p.sampleRate;w.gain.setValueAtTime(0,i),w=o(p,{...g,gain:0}),b=r(p,{...y,orientationX:m[0],orientationY:m[1],orientationZ:m[2],positionX:C[0],positionY:C[1],positionZ:C[2]}),w.gain.setValueAtTime(1,i),a.connect(w).connect(b.inputs[0]),b.connect(v)}}return v}return C?(await e(p,h.orientationX,m.orientationX,f),await e(p,h.orientationY,m.orientationY,f),await e(p,h.orientationZ,m.orientationZ,f),await e(p,h.positionX,m.positionX,f),await e(p,h.positionY,m.positionY,f),await e(p,h.positionZ,m.positionZ,f)):(await s(p,h.orientationX,m.orientationX,f),await s(p,h.orientationY,m.orientationY,f),await s(p,h.orientationZ,m.orientationZ,f),await s(p,h.positionX,m.positionX,f),await s(p,h.positionY,m.positionY,f),await s(p,h.positionZ,m.positionZ,f)),te(m)?await c(h,p,m.inputs[0],f):await c(h,p,m,f),m})(h,p,f)}}})(ln,Rn,Ln,He,co,se,Lt,pn,Dt,Gn),Ft,Wt,wn),ho=((e,t,n,o)=>class r{constructor(r,a){const i=t(r),s=o({...at,...a}),c=e(i,s);return n.add(c),c}static[Symbol.hasInstance](e){return null!==e&&"object"==typeof e&&Object.getPrototypeOf(e)===r.prototype||n.has(e)}})((e=>(t,{disableNormalization:n,imag:o,real:r})=>{const a=o instanceof Float32Array?o:new Float32Array(o),i=r instanceof Float32Array?r:new Float32Array(r),s=t.createPeriodicWave(i,a,{disableNormalization:n});if(Array.from(o).length<2)throw e();return s})(L),Ft,new WeakSet,e=>{const{imag:t,real:n}=e;return void 0===t?void 0===n?{...e,imag:[0,0],real:[0,0]}:{...e,imag:Array.from(n,()=>0),real:n}:void 0===n?{...e,imag:t,real:Array.from(t,()=>0)}:{...e,imag:t,real:n}}),po=((e,t)=>(n,o)=>{const r=o.channelCountMode;if("clamped-max"===r)throw t();if(void 0===n.createStereoPanner)return e(n,o);const a=n.createStereoPanner();return Ve(a,o),qe(a,o,"pan"),Object.defineProperty(a,"channelCountMode",{get:()=>r,set:e=>{if(e!==r)throw t()}}),a})(((e,t,n,o,r,a)=>{const i=new Float32Array([1,1]),s=Math.PI/2,c={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},u={...c,oversample:"none"},l=(e,a,l,d,h)=>{if(1===a)return((e,t,r,a)=>{const l=new Float32Array(16385),d=new Float32Array(16385);for(let e=0;e<16385;e+=1){const t=e/16384*s;l[e]=Math.cos(t),d[e]=Math.sin(t)}const h=n(e,{...c,gain:0}),p=o(e,{...u,curve:l}),f=o(e,{...u,curve:i}),v=n(e,{...c,gain:0}),m=o(e,{...u,curve:d});return{connectGraph(){t.connect(h),t.connect(f.inputs[0]),t.connect(v),f.connect(r),r.connect(p.inputs[0]),r.connect(m.inputs[0]),p.connect(h.gain),m.connect(v.gain),h.connect(a,0,0),v.connect(a,0,1)},disconnectGraph(){t.disconnect(h),t.disconnect(f.inputs[0]),t.disconnect(v),f.disconnect(r),r.disconnect(p.inputs[0]),r.disconnect(m.inputs[0]),p.disconnect(h.gain),m.disconnect(v.gain),h.disconnect(a,0,0),v.disconnect(a,0,1)}}})(e,l,d,h);if(2===a)return((e,r,a,l)=>{const d=new Float32Array(16385),h=new Float32Array(16385),p=new Float32Array(16385),f=new Float32Array(16385),v=Math.floor(8192.5);for(let e=0;e<16385;e+=1)if(e>v){const t=(e-v)/(16384-v)*s;d[e]=Math.cos(t),h[e]=Math.sin(t),p[e]=0,f[e]=1}else{const t=e/(16384-v)*s;d[e]=1,h[e]=0,p[e]=Math.cos(t),f[e]=Math.sin(t)}const m=t(e,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),g=n(e,{...c,gain:0}),y=o(e,{...u,curve:d}),C=n(e,{...c,gain:0}),w=o(e,{...u,curve:h}),b=o(e,{...u,curve:i}),M=n(e,{...c,gain:0}),_=o(e,{...u,curve:p}),O=n(e,{...c,gain:0}),A=o(e,{...u,curve:f});return{connectGraph(){r.connect(m),r.connect(b.inputs[0]),m.connect(g,0),m.connect(C,0),m.connect(M,1),m.connect(O,1),b.connect(a),a.connect(y.inputs[0]),a.connect(w.inputs[0]),a.connect(_.inputs[0]),a.connect(A.inputs[0]),y.connect(g.gain),w.connect(C.gain),_.connect(M.gain),A.connect(O.gain),g.connect(l,0,0),M.connect(l,0,0),C.connect(l,0,1),O.connect(l,0,1)},disconnectGraph(){r.disconnect(m),r.disconnect(b.inputs[0]),m.disconnect(g,0),m.disconnect(C,0),m.disconnect(M,1),m.disconnect(O,1),b.disconnect(a),a.disconnect(y.inputs[0]),a.disconnect(w.inputs[0]),a.disconnect(_.inputs[0]),a.disconnect(A.inputs[0]),y.disconnect(g.gain),w.disconnect(C.gain),_.disconnect(M.gain),A.disconnect(O.gain),g.disconnect(l,0,0),M.disconnect(l,0,0),C.disconnect(l,0,1),O.disconnect(l,0,1)}}})(e,l,d,h);throw r()};return(t,{channelCount:o,channelCountMode:i,pan:s,...c})=>{if("max"===i)throw r();const u=e(t,{...c,channelCount:1,channelCountMode:i,numberOfInputs:2}),d=n(t,{...c,channelCount:o,channelCountMode:i,gain:1}),h=n(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:s});let{connectGraph:p,disconnectGraph:f}=l(t,o,d,h,u);Object.defineProperty(h.gain,"defaultValue",{get:()=>0}),Object.defineProperty(h.gain,"minValue",{get:()=>-1});const v={get bufferSize(){},get channelCount(){return d.channelCount},set channelCount(e){d.channelCount!==e&&(m&&f(),({connectGraph:p,disconnectGraph:f}=l(t,e,d,h,u)),m&&p()),d.channelCount=e},get channelCountMode(){return d.channelCountMode},set channelCountMode(e){if("clamped-max"===e||"max"===e)throw r();d.channelCountMode=e},get channelInterpretation(){return d.channelInterpretation},set channelInterpretation(e){d.channelInterpretation=e},get context(){return d.context},get inputs(){return[d]},get numberOfInputs(){return d.numberOfInputs},get numberOfOutputs(){return d.numberOfOutputs},get pan(){return h.gain},addEventListener:(...e)=>d.addEventListener(e[0],e[1],e[2]),dispatchEvent:(...e)=>d.dispatchEvent(e[0]),removeEventListener:(...e)=>d.removeEventListener(e[0],e[1],e[2])};let m=!1;return a(Qe(v,u),()=>{p(),m=!0},()=>{f(),m=!1})}})(Rn,Ge,He,io,tt,Sn),tt),fo=((e,t,n,o,r,a)=>class extends e{constructor(e,i){const s=r(e),c={...it,...i},u=n(s,c),l=a(s);super(e,!1,u,l?o():null),this._pan=t(this,l,u.pan)}get pan(){return this._pan}})(Qt,vn,po,((e,t,n,o,r)=>()=>{const a=new WeakMap;return{render(i,s,c){const u=a.get(s);return void 0!==u?Promise.resolve(u):(async(i,s,c)=>{let u=n(i);const l=F(u,s);if(!l){const e={channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,pan:u.pan.value};u=t(s,e)}return a.set(s,u),l?await e(s,i.pan,u.pan,c):await o(s,i.pan,u.pan,c),te(u)?await r(i,s,u.inputs[0],c):await r(i,s,u,c),u})(i,s,c)}}})(ln,po,se,pn,Dt),Ft,Wt),vo=((e,t,n)=>()=>{const o=new WeakMap;return{render(r,a,i){const s=o.get(a);return void 0!==s?Promise.resolve(s):(async(r,a,i)=>{let s=t(r);if(!F(s,a)){const t={channelCount:s.channelCount,channelCountMode:s.channelCountMode,channelInterpretation:s.channelInterpretation,curve:s.curve,oversample:s.oversample};s=e(a,t)}return o.set(a,s),te(s)?await n(r,a,s.inputs[0],i):await n(r,a,s,i),s})(r,a,i)}}})(io,se,Dt),mo=((e,t,n,o,r,a,i)=>class extends e{constructor(e,t){const s=r(e),c={...ct,...t},u=n(s,c);super(e,!0,u,a(s)?o():null),this._isCurveNullified=!1,this._nativeWaveShaperNode=u,i(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(e){if(null===e)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(e.length<2)throw t();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=e}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(e){this._nativeWaveShaperNode.oversample=e}})(Qt,Ne,io,vo,Ft,Wt,wn),go=(e=>null!==e&&e.isSecureContext)(At),yo=(e=>(t,n,o)=>{Object.defineProperties(e,{currentFrame:{configurable:!0,get:()=>Math.round(t*n)},currentTime:{configurable:!0,get:()=>t}});try{return o()}finally{null!==e&&(delete e.currentFrame,delete e.currentTime)}})(At),Co=new WeakMap,wo=((e,t)=>n=>{let o=e.get(n);if(void 0!==o)return o;if(null===t)throw new Error("Missing the native OfflineAudioContext constructor.");return o=new t(1,1,8e3),e.set(n,o),o})(Co,Lt),bo=(e=>null===e?null:e.hasOwnProperty("AudioWorkletNode")?e.AudioWorkletNode:null)(At),Mo=go?((e,t,n,o,r,a,i,s,c,u,l,d)=>(h,p,f={credentials:"omit"})=>{const v=a(h),m=new URL(p,d.location.href).toString();if(void 0!==v.audioWorklet)return Promise.all([r(p),Promise.resolve(e(l,l))]).then(([e,t])=>{const[n,o]=O(e,m),r=t?o:o.replace(/\s+extends\s+AudioWorkletProcessor\s*{/," extends (class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}){"),a=new Blob([`${n};(registerProcessor=>{${r}\n})((n,p)=>registerProcessor(n,class extends p{${t?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${t?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}))`],{type:"application/javascript; charset=utf-8"}),c=URL.createObjectURL(a);return v.audioWorklet.addModule(c,f).then(()=>{if(s(v))return;return i(v).audioWorklet.addModule(c,f)}).finally(()=>URL.revokeObjectURL(c))});const g=u.get(h);if(void 0!==g&&g.has(p))return Promise.resolve();const y=c.get(h);if(void 0!==y){const e=y.get(p);if(void 0!==e)return e}const C=r(p).then(e=>{const[t,o]=O(e,m);return n(`${t};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${o}\n})})(window,'_AWGS')`)}).then(()=>{const e=d._AWGS.pop();if(void 0===e)throw new SyntaxError;o(v.currentTime,v.sampleRate,()=>e(class{},void 0,(e,n)=>{if(""===e.trim())throw t();const o=w.get(v);if(void 0!==o){if(o.has(e))throw t();x(n),A(n.parameterDescriptors),o.set(e,n)}else x(n),A(n.parameterDescriptors),w.set(v,new Map([[e,n]]))},v.sampleRate,void 0,void 0))});return void 0===y?c.set(h,new Map([[p,C]])):y.set(p,C),C.then(()=>{const e=u.get(h);void 0===e?u.set(h,new Set([p])):e.add(p)}).finally(()=>{const e=c.get(h);void 0!==e&&e.delete(p)}),C})(Mt,tt,(e=>t=>new Promise((n,o)=>{if(null===e)return void o(new SyntaxError);const r=e.document.head;if(null===r)o(new SyntaxError);else{const a=e.document.createElement("script"),i=new Blob([t],{type:"application/javascript"}),s=URL.createObjectURL(i),c=e.onerror,u=()=>{e.onerror=c,URL.revokeObjectURL(s)};e.onerror=(t,n,r,a,i)=>n===s||n===e.location.href&&1===r&&1===a?(u(),o(i),!1):null!==c?c(t,n,r,a,i):void 0,a.onerror=()=>{u(),o(new SyntaxError)},a.onload=()=>{u(),n()},a.src=s,a.type="module",r.appendChild(a)}}))(At),yo,(e=>async t=>{try{const e=await fetch(t);if(e.ok)return e.text()}catch{}throw e()})(()=>new DOMException("","AbortError")),Ft,wo,Wt,new WeakMap,new WeakMap,((e,t)=>async()=>{if(null===e)return!0;if(null===t)return!1;const n=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),o=new t(1,128,8e3),r=URL.createObjectURL(n);let a=!1,i=!1;try{await o.audioWorklet.addModule(r);const t=new e(o,"a",{numberOfOutputs:0}),n=o.createOscillator();t.port.onmessage=()=>a=!0,t.onprocessorerror=()=>i=!0,n.connect(t),await o.startRendering()}catch{}finally{URL.revokeObjectURL(r)}return a&&!i})(bo,Lt),At):void 0,_o=((e,t)=>n=>e(n)||t(n))(Xt,Wt),Oo=((e,t,n,o,r,a,i,s,c,u,l,d,h,p,f,v,m,g,y,C)=>class extends f{constructor(t,n){super(t,n),this._nativeContext=t,this._audioWorklet=void 0===e?void 0:{addModule:(t,n)=>e(this,t,n)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new t(this)}createBiquadFilter(){return new r(this)}createBuffer(e,t,o){return new n({length:t,numberOfChannels:e,sampleRate:o})}createBufferSource(){return new o(this)}createChannelMerger(e=6){return new a(this,{numberOfInputs:e})}createChannelSplitter(e=6){return new i(this,{numberOfOutputs:e})}createConstantSource(){return new s(this)}createConvolver(){return new c(this)}createDelay(e=1){return new l(this,{maxDelayTime:e})}createDynamicsCompressor(){return new d(this)}createGain(){return new h(this)}createIIRFilter(e,t){return new p(this,{feedback:t,feedforward:e})}createOscillator(){return new v(this)}createPanner(){return new m(this)}createPeriodicWave(e,t,n={disableNormalization:!1}){return new g(this,{...n,imag:t,real:e})}createStereoPanner(){return new y(this)}createWaveShaper(){return new C(this)}decodeAudioData(e,t,n){return u(this._nativeContext,e).then(e=>("function"==typeof t&&t(e),e)).catch(e=>{throw"function"==typeof n&&n(e),e})}})(Mo,Ht,rn,gn,bn,Pn,Fn,Wn,jn,((e,t,n,o,r,a,i,s,c,u,l)=>(d,h)=>{const p=i(d)?d:a(d);if(r.has(h)){const e=n();return Promise.reject(e)}try{r.add(h)}catch{}return t(c,()=>c(p))?p.decodeAudioData(h).then(n=>(t(s,()=>s(n))||l(n),e.add(n),n)):new Promise((t,n)=>{const r=()=>{try{(e=>{const{port1:t}=new MessageChannel;t.postMessage(e,[e])})(h)}catch{}},a=e=>{n(e),r()};try{p.decodeAudioData(h,n=>{"function"!=typeof n.copyFromChannel&&(u(n),W(n)),e.add(n),r(),t(n)},e=>{a(null===e?o():e)})}catch(e){a(e)}})})(Jt,Mt,()=>new DOMException("","DataCloneError"),()=>new DOMException("","EncodingError"),new WeakSet,Ft,_o,B,Be,nn,on),qn,Xn,Yn,Hn,eo,no,lo,ho,fo,mo),Ao=((e,t,n,o)=>class extends e{constructor(e,r){const a=n(e),i=t(a,r);if(o(a))throw TypeError();super(e,!0,i,null),this._nativeMediaElementAudioSourceNode=i}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}})(Qt,(e,t)=>e.createMediaElementSource(t.mediaElement),Ft,Wt),xo=((e,t,n,o)=>class extends e{constructor(e,r){const a=n(e);if(o(a))throw new TypeError;const i={...Fe,...r},s=t(a,i);super(e,!1,s,null),this._nativeMediaStreamAudioDestinationNode=s}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}})(Qt,(e,t)=>{const n=e.createMediaStreamDestination();return Ve(n,t),1===n.numberOfOutputs&&Object.defineProperty(n,"numberOfOutputs",{get:()=>0}),n},Ft,Wt),Eo=((e,t,n,o)=>class extends e{constructor(e,r){const a=n(e),i=t(a,r);if(o(a))throw new TypeError;super(e,!0,i,null),this._nativeMediaStreamAudioSourceNode=i}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}})(Qt,(e,{mediaStream:t})=>{const n=t.getAudioTracks();n.sort((e,t)=>e.id<t.id?-1:e.id>t.id?1:0);const o=n.slice(0,1),r=e.createMediaStreamSource(new MediaStream(o));return Object.defineProperty(r,"mediaStream",{value:t}),r},Ft,Wt),Io=((e,t,n)=>class extends e{constructor(e,o){const r=n(e);super(e,!0,t(r,o),null)}})(Qt,((e,t)=>(n,{mediaStreamTrack:o})=>{if("function"==typeof n.createMediaStreamTrackSource)return n.createMediaStreamTrackSource(o);const r=new MediaStream([o]),a=n.createMediaStreamSource(r);if("audio"!==o.kind)throw e();if(t(n))throw new TypeError;return a})(Ne,Wt),Ft),To=(((e,t,n,o,r,a,i,s,c)=>{})(Oo,Ne,tt,st,Ao,xo,Eo,Io,Ut),So=Kn,e=>{const t=So.get(e);if(void 0===t)throw new Error("The context has no set of AudioWorkletNodes.");return t});var So;const Do=(No=To,(e,t)=>{No(e).add(t)});var No;const ko=(e=>(t,n,o=0,r=0)=>{const a=t[o];if(void 0===a)throw e();return pe(n)?a.connect(n,0,r):a.connect(n,0)})(L),Ro=(e=>(t,n)=>{e(t).delete(n)})(To),Po=(e=>(t,n,o,r=0)=>void 0===n?t.forEach(e=>e.disconnect()):"number"==typeof n?Te(e,t,n).disconnect():pe(n)?void 0===o?t.forEach(e=>e.disconnect(n)):void 0===r?Te(e,t,o).disconnect(n,0):Te(e,t,o).disconnect(n,0,r):void 0===o?t.forEach(e=>e.disconnect(n)):Te(e,t,o).disconnect(n,0))(L),Fo=new WeakMap,Bo=((e,t)=>n=>t(e,n))(Fo,E),Lo=((e,t,n,o,r,a,i,s,c,u,l,d,h)=>(p,f,v,m)=>{if(0===m.numberOfInputs&&0===m.numberOfOutputs)throw c();const g=Array.isArray(m.outputChannelCount)?m.outputChannelCount:Array.from(m.outputChannelCount);if(g.some(e=>e<1))throw c();if(g.length!==m.numberOfOutputs)throw t();if("explicit"!==m.channelCountMode)throw c();const y=m.channelCount*m.numberOfInputs,C=g.reduce((e,t)=>e+t,0),w=void 0===v.parameterDescriptors?0:v.parameterDescriptors.length;if(y+w>6||C>6)throw c();const M=new MessageChannel,_=[],O=[];for(let e=0;e<m.numberOfInputs;e+=1)_.push(i(p,{channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation,gain:1})),O.push(r(p,{channelCount:m.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:m.channelCount}));const A=[];if(void 0!==v.parameterDescriptors)for(const{defaultValue:e,maxValue:t,minValue:n,name:o}of v.parameterDescriptors){const r=a(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:void 0!==m.parameterData[o]?m.parameterData[o]:void 0===e?0:e});Object.defineProperties(r.offset,{defaultValue:{get:()=>void 0===e?0:e},maxValue:{get:()=>void 0===t?q:t},minValue:{get:()=>void 0===n?j:n}}),A.push(r)}const x=o(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,y+w)}),E=Xe(f,p.sampleRate),I=s(p,E,y+w,Math.max(1,C)),T=r(p,{channelCount:Math.max(1,C),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,C)}),S=[];for(let e=0;e<m.numberOfOutputs;e+=1)S.push(o(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:g[e]}));for(let e=0;e<m.numberOfInputs;e+=1){_[e].connect(O[e]);for(let t=0;t<m.channelCount;t+=1)O[e].connect(x,t,e*m.channelCount+t)}const D=new ge(void 0===v.parameterDescriptors?[]:v.parameterDescriptors.map(({name:e},t)=>{const n=A[t];return n.connect(x,0,y+t),n.start(0),[e,n.offset]}));x.connect(I);let N=m.channelInterpretation,k=null;const R=0===m.numberOfOutputs?[I]:S,P={get bufferSize(){return E},get channelCount(){return m.channelCount},set channelCount(e){throw n()},get channelCountMode(){return m.channelCountMode},set channelCountMode(e){throw n()},get channelInterpretation(){return N},set channelInterpretation(e){for(const t of _)t.channelInterpretation=e;N=e},get context(){return I.context},get inputs(){return _},get numberOfInputs(){return m.numberOfInputs},get numberOfOutputs(){return m.numberOfOutputs},get onprocessorerror(){return k},set onprocessorerror(e){"function"==typeof k&&P.removeEventListener("processorerror",k),k="function"==typeof e?e:null,"function"==typeof k&&P.addEventListener("processorerror",k)},get parameters(){return D},get port(){return M.port2},addEventListener:(...e)=>I.addEventListener(e[0],e[1],e[2]),connect:e.bind(null,R),disconnect:u.bind(null,R),dispatchEvent:(...e)=>I.dispatchEvent(e[0]),removeEventListener:(...e)=>I.removeEventListener(e[0],e[1],e[2])},F=new Map;var B,L;M.port1.addEventListener=(B=M.port1.addEventListener,(...e)=>{if("message"===e[0]){const t="function"==typeof e[1]?e[1]:"object"==typeof e[1]&&null!==e[1]&&"function"==typeof e[1].handleEvent?e[1].handleEvent:null;if(null!==t){const n=F.get(e[1]);void 0!==n?e[1]=n:(e[1]=e=>{l(p.currentTime,p.sampleRate,()=>t(e))},F.set(t,e[1]))}}return B.call(M.port1,e[0],e[1],e[2])}),M.port1.removeEventListener=(L=M.port1.removeEventListener,(...e)=>{if("message"===e[0]){const t=F.get(e[1]);void 0!==t&&(F.delete(e[1]),e[1]=t)}return L.call(M.port1,e[0],e[1],e[2])});let W=null;Object.defineProperty(M.port1,"onmessage",{get:()=>W,set:e=>{"function"==typeof W&&M.port1.removeEventListener("message",W),W="function"==typeof e?e:null,"function"==typeof W&&(M.port1.addEventListener("message",W),M.port1.start())}}),v.prototype.port=M.port1;let V=null;((e,t,n,o)=>{let r=b.get(e);void 0===r&&(r=new WeakMap,b.set(e,r));const a=Ye(n,o);return r.set(t,a),a})(p,P,v,m).then(e=>V=e);const z=be(m.numberOfInputs,m.channelCount),U=be(m.numberOfOutputs,g),X=void 0===v.parameterDescriptors?[]:v.parameterDescriptors.reduce((e,{name:t})=>({...e,[t]:new Float32Array(128)}),{});let Y=!0;const Z=()=>{m.numberOfOutputs>0&&I.disconnect(T);for(let e=0,t=0;e<m.numberOfOutputs;e+=1){const n=S[e];for(let o=0;o<g[e];o+=1)T.disconnect(n,t+o,o);t+=g[e]}},G=new Map;I.onaudioprocess=({inputBuffer:e,outputBuffer:t})=>{if(null!==V){const n=d(P);for(let o=0;o<E;o+=128){for(let t=0;t<m.numberOfInputs;t+=1)for(let n=0;n<m.channelCount;n+=1)Ce(e,z[t],n,n,o);void 0!==v.parameterDescriptors&&v.parameterDescriptors.forEach(({name:t},n)=>{Ce(e,X,t,y+n,o)});for(let e=0;e<m.numberOfInputs;e+=1)for(let t=0;t<g[e];t+=1)0===U[e][t].byteLength&&(U[e][t]=new Float32Array(128));try{const e=z.map((e,t)=>{if(n[t].size>0)return G.set(t,E/128),e;const o=G.get(t);return void 0===o?[]:(e.every(e=>e.every(e=>0===e))&&(1===o?G.delete(t):G.set(t,o-1)),e)}),r=l(p.currentTime+o/p.sampleRate,p.sampleRate,()=>V.process(e,U,X));Y=r;for(let e=0,n=0;e<m.numberOfOutputs;e+=1){for(let r=0;r<g[e];r+=1)we(t,U[e],r,n+r,o);n+=g[e]}}catch(e){Y=!1,P.dispatchEvent(new ErrorEvent("processorerror",{colno:e.colno,filename:e.filename,lineno:e.lineno,message:e.message}))}if(!Y){for(let e=0;e<m.numberOfInputs;e+=1){_[e].disconnect(O[e]);for(let t=0;t<m.channelCount;t+=1)O[o].disconnect(x,t,e*m.channelCount+t)}if(void 0!==v.parameterDescriptors){const e=v.parameterDescriptors.length;for(let t=0;t<e;t+=1){const e=A[t];e.disconnect(x,0,y+t),e.stop()}}x.disconnect(I),I.onaudioprocess=null,Q?Z():J();break}}}};let Q=!1;const $=i(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),H=()=>I.connect($).connect(p.destination),J=()=>{I.disconnect($),$.disconnect()};return H(),h(P,()=>{if(Y){J(),m.numberOfOutputs>0&&I.connect(T);for(let e=0,t=0;e<m.numberOfOutputs;e+=1){const n=S[e];for(let o=0;o<g[e];o+=1)T.connect(n,t+o,o);t+=g[e]}}Q=!0},()=>{Y&&(H(),Z()),Q=!1})})(ko,L,Ne,Rn,Ge,Ln,He,et,tt,Po,yo,Bo,Sn),Wo=((e,t,n,o,r)=>(a,i,s,c,u,l)=>{if(null!==s)try{const t=new s(a,c,l),o=new Map;let i=null;if(Object.defineProperties(t,{channelCount:{get:()=>l.channelCount,set:()=>{throw e()}},channelCountMode:{get:()=>"explicit",set:()=>{throw e()}},onprocessorerror:{get:()=>i,set:e=>{"function"==typeof i&&t.removeEventListener("processorerror",i),i="function"==typeof e?e:null,"function"==typeof i&&t.addEventListener("processorerror",i)}}}),t.addEventListener=(h=t.addEventListener,(...e)=>{if("processorerror"===e[0]){const t="function"==typeof e[1]?e[1]:"object"==typeof e[1]&&null!==e[1]&&"function"==typeof e[1].handleEvent?e[1].handleEvent:null;if(null!==t){const n=o.get(e[1]);void 0!==n?e[1]=n:(e[1]=n=>{"error"===n.type?(Object.defineProperties(n,{type:{value:"processorerror"}}),t(n)):t(new ErrorEvent(e[0],{...n}))},o.set(t,e[1]))}}return h.call(t,"error",e[1],e[2]),h.call(t,...e)}),t.removeEventListener=(d=t.removeEventListener,(...e)=>{if("processorerror"===e[0]){const t=o.get(e[1]);void 0!==t&&(o.delete(e[1]),e[1]=t)}return d.call(t,"error",e[1],e[2]),d.call(t,e[0],e[1],e[2])}),0!==l.numberOfOutputs){const e=n(a,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});t.connect(e).connect(a.destination);return r(t,()=>e.disconnect(),()=>e.connect(a.destination))}return t}catch(e){if(11===e.code)throw o();throw e}var d,h;if(void 0===u)throw o();return(e=>{const{port1:t}=new MessageChannel;try{t.postMessage(e)}finally{t.close()}})(l),t(a,i,u,l)})(Ne,Lo,He,tt,Sn),Vo=((e,t,n,o,r,a,i,s,c,u,l,d,h,p,f,v)=>(m,g,y)=>{const C=new WeakMap;let w=null;return{render(b,M,_){s(M,b);const O=C.get(M);return void 0!==O?Promise.resolve(O):(async(s,b,M)=>{let _=l(s),O=null;const A=F(_,b),x=Array.isArray(g.outputChannelCount)?g.outputChannelCount:Array.from(g.outputChannelCount);if(null===d){const e=x.reduce((e,t)=>e+t,0),n=r(b,{channelCount:Math.max(1,e),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,e)}),a=[];for(let e=0;e<s.numberOfOutputs;e+=1)a.push(o(b,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:x[e]}));const u=i(b,{channelCount:g.channelCount,channelCountMode:g.channelCountMode,channelInterpretation:g.channelInterpretation,gain:1});u.connect=t.bind(null,a),u.disconnect=c.bind(null,a),O=[n,a,u]}else A||(_=new d(b,m));if(C.set(b,null===O?_:O[2]),null!==O){if(null===w){if(void 0===y)throw new Error("Missing the processor constructor.");if(null===h)throw new Error("Missing the native OfflineAudioContext constructor.");const e=s.channelCount*s.numberOfInputs,t=void 0===y.parameterDescriptors?0:y.parameterDescriptors.length,n=e+t,c=async()=>{const c=new h(n,128*Math.ceil(s.context.length/128),b.sampleRate),u=[],l=[];for(let e=0;e<g.numberOfInputs;e+=1)u.push(i(c,{channelCount:g.channelCount,channelCountMode:g.channelCountMode,channelInterpretation:g.channelInterpretation,gain:1})),l.push(r(c,{channelCount:g.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:g.channelCount}));const d=await Promise.all(Array.from(s.parameters.values()).map(async e=>{const t=a(c,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:e.value});return await p(c,e,t.offset,M),t})),m=o(c,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,e+t)});for(let e=0;e<g.numberOfInputs;e+=1){u[e].connect(l[e]);for(let t=0;t<g.channelCount;t+=1)l[e].connect(m,t,e*g.channelCount+t)}for(const[t,n]of d.entries())n.connect(m,0,e+t),n.start(0);return m.connect(c.destination),await Promise.all(u.map(e=>f(s,c,e,M))),v(c)};w=Me(s,0===n?null:await c(),b,g,x,y,u)}const e=await w,t=n(b,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[c,l,d]=O;null!==e&&(t.buffer=e,t.start(0)),t.connect(c);for(let e=0,t=0;e<s.numberOfOutputs;e+=1){const n=l[e];for(let o=0;o<x[e];o+=1)c.connect(n,t+o,o);t+=x[e]}return d}if(A)for(const[t,n]of s.parameters.entries())await e(b,n,_.parameters.get(t),M);else for(const[e,t]of s.parameters.entries())await p(b,t,_.parameters.get(e),M);return await f(s,b,_,M),_})(b,M,_)}}})(ln,ko,dn,Rn,Ge,Ln,He,Ro,Po,yo,se,bo,Lt,pn,Dt,Gn),jo=(e=>t=>e.get(t))(Co),qo=(e=>(t,n)=>{e.set(t,n)})(Fo),zo=(go&&((e,t,n,o,r,a,i,s,c,u,l,d,h)=>{})(Do,Qt,vn,Vo,Wo,X,jo,Ft,Wt,bo,e=>({...e,outputChannelCount:void 0!==e.outputChannelCount?e.outputChannelCount:1===e.numberOfInputs&&1===e.numberOfOutputs?[e.channelCount]:Array.from({length:e.numberOfOutputs},()=>1)}),qo,vt),((e,t,n,o,r)=>{})(Ne,tt,st,eo,Ut),((e,t)=>(n,o,r)=>{if(null===t)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new t(n,o,r)}catch(t){if("SyntaxError"===t.name)throw e();throw t}})(tt,Lt)),Uo=((e,t,n,o,r,a,i,s)=>{const c=[];return(u,l)=>n(u).render(u,l,c).then(()=>Promise.all(Array.from(o(l)).map(e=>n(e).render(e,l,c)))).then(()=>r(l)).then(n=>("function"!=typeof n.copyFromChannel?(i(n),W(n)):t(a,()=>a(n))||s(n),e.add(n),n))})(Jt,Mt,Tt,To,Gn,B,nn,on);Xo=f,Yo=Zt;var Xo,Yo;Zo=m,Go=Gt;var Zo,Go;var Qo,$o,Ho,Jo=new(window.AudioContext||window.webkitAudioContext||(void 0).AudioContext),Ko=Jo.createAnalyser(),er={getAudioContext:function(){return Jo},getAnalyser:function(){return Ko},resetAnalyser:function(){Ko=Jo.createAnalyser()},decodeAudioData:function(){Jo.decodeAudioData(audioData).then((function(e){}))}};function tr(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var nr,or,rr,ar,ir,sr,cr,ur,lr,dr=[];navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;var hr,pr=function(){function e(t,n,o,r,a,i,s){var c,u,d,h=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),d=function(){if(nr=Date.now(),Ho){if($o&&"suspended"===$o.state&&$o.resume(),Ho&&"paused"===Ho.state)return void Ho.resume();$o&&Ho&&"inactive"===Ho.state&&(Ho.start(10),$o.createMediaStreamSource(or).connect(Qo),ar&&ar(or))}else navigator.mediaDevices?(console.log("getUserMedia supported."),navigator.mediaDevices.getUserMedia(lr).then((function(e){or=e,window.MediaRecorder&&window.MediaRecorder.hasOwnProperty("isTypeSupported")?(Ho=MediaRecorder.isTypeSupported(rr.mimeType)?new MediaRecorder(e,rr):new MediaRecorder(e),ar&&ar(or),Ho.onstop=h.onStop,Ho.ondataavailable=function(e){dr.push(e.data),cr&&cr(e.data)},($o=er.getAudioContext()).resume().then((function(){Qo=er.getAnalyser(),Ho.start(10),$o.createMediaStreamSource(or).connect(Qo),ur&&ur(or,$o,Qo)}))):(Ho=new l(e,rr),ar&&ar(or),Ho.addEventListener("stop",h.onStop),Ho.addEventListener("dataavailable",(function(e){dr.push(e.data),cr&&cr(e.data)})),($o=er.getAudioContext()).resume().then((function(){Qo=er.getAnalyser(),Ho.start(10),$o.createMediaStreamSource(or).connect(Qo),ur&&ur(or,$o,Qo)})))}))):alert("Your browser does not support audio recording")},(u="startRecording")in(c=this)?Object.defineProperty(c,u,{value:d,enumerable:!0,configurable:!0,writable:!0}):c[u]=d;var p=s.echoCancellation,f=s.autoGainControl,v=s.noiseSuppression,m=s.channelCount;ar=t,ir=n,sr=o,cr=r,ur=a,rr=i,lr={audio:{echoCancellation:p,autoGainControl:f,noiseSuppression:v,channelCount:m},video:!1}}var t,n,o;return t=e,(n=[{key:"stopRecording",value:function(){Ho&&"inactive"!==Ho.state&&(Ho.stop(),or.getAudioTracks().forEach((function(e){e.stop()})),Ho=null,er.resetAnalyser())}},{key:"onStop",value:function(){var e=new Blob(dr,{type:rr.mimeType});dr=[];var t={blob:e,startTime:nr,stopTime:Date.now(),options:rr,blobURL:window.URL.createObjectURL(e)};ir&&ir(t),sr&&sr(t)}}])&&tr(t.prototype,n),o&&tr(t,o),e}(),fr={create:function(e){var t=er.getAudioContext(),n=er.getAnalyser();if(void 0===hr){var o=t.createMediaElementSource(e);o.connect(n),hr=o}n.connect(t.destination)}},vr={visualizeSineWave:function(e,t,n,o,r,a){var i=er.getAnalyser(),s=i.fftSize,c=new Uint8Array(s);e.clearRect(0,0,n,o),function u(){requestAnimationFrame(u),(i=er.getAnalyser()).getByteTimeDomainData(c),e.fillStyle=r,e.fillRect(0,0,n,o),e.lineWidth=2,e.strokeStyle=a,e.beginPath();for(var l=1*n/s,d=0,h=0;h<s;h++){var p=c[h]/128*o/2;0===h?e.moveTo(d,p):e.lineTo(d,p),d+=l}e.lineTo(t.width,t.height/2),e.stroke()}()},visualizeFrequencyBars:function(e,t,n,o,r,a){var i=this,s=er.getAnalyser();s.fftSize=256;var c=s.frequencyBinCount,u=new Uint8Array(c);e.clearRect(0,0,n,o),function t(){requestAnimationFrame(t),(s=er.getAnalyser()).getByteFrequencyData(u),e.fillStyle=r,e.fillRect(0,0,n,o);for(var l,d=n/c*2.5,h=0,p=0;p<c;p++){l=u[p];i.hexToRgb(a);e.fillStyle=a,e.fillRect(h,o-l/2,d,l/2),h+=d+1}}()},visualizeFrequencyCircles:function(e,t,n,o,r,a){var i=er.getAnalyser();i.fftSize=32;var s=i.frequencyBinCount,c=new Uint8Array(s);e.clearRect(0,0,n,o),function t(){requestAnimationFrame(t),(i=er.getAnalyser()).getByteFrequencyData(c);for(var u=new Uint8Array(s/3),l=0;l<s;l+=3){for(var d=0,h=0;h<3;h++)d+=c[l+h];u[l/3]=d/3}e.clearRect(0,0,n,o),e.beginPath(),e.arc(n/2,o/2,Math.min(o,n)/2,0,2*Math.PI),e.fillStyle=r,e.fill();var p=Math.min(o,n)/2/u.length;e.strokeStyle=a;for(var f=0;f<u.length;f++){e.beginPath();var v=p*f+p*(u[f]/128);e.arc(n/2,o/2,v,0,2*Math.PI),e.stroke()}}()},hexToRgb:function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null}};function mr(e){return(mr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gr(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function yr(e,t){return(yr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Cr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Mr(e);if(t){var r=Mr(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return wr(this,n)}}function wr(e,t){return!t||"object"!==mr(t)&&"function"!=typeof t?br(e):t}function br(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mr(e){return(Mr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _r=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yr(e,t)}(i,e);var t,n,o,a=Cr(i);function i(e){var t,n,o,s;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),t=a.call(this,e),n=br(t),s=function(){var e=t.props,n=e.backgroundColor,o=e.strokeColor,r=e.width,a=e.height,i=e.visualSetting,s=t.state,c=s.canvas,u=s.canvasCtx;"sinewave"===i?vr.visualizeSineWave(u,c,r,a,n,o):"frequencyBars"===i?vr.visualizeFrequencyBars(u,c,r,a,n,o):"frequencyCircles"===i&&vr.visualizeFrequencyCircles(u,c,r,a,n,o)},(o="visualize")in n?Object.defineProperty(n,o,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[o]=s,t.visualizerRef=r.a.createRef(),t.state={microphoneRecorder:null,canvas:null,canvasCtx:null},t}return t=i,(n=[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.record,o=t.onStop,r=this.state.microphoneRecorder;e.record!==n&&(n?r&&r.startRecording():r&&(r.stopRecording(o),this.clear()))}},{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.onSave,o=t.onStop,r=t.onStart,a=t.onData,i=t.onAudioContext,s=t.audioElem,c=t.audioBitsPerSecond,u=t.echoCancellation,l=t.autoGainControl,d=t.noiseSuppression,h=(t.channelCount,t.mimeType),p=this.visualizerRef.current,f=p.getContext("2d"),v={audioBitsPerSecond:c,mimeType:h},m={echoCancellation:u,autoGainControl:l,noiseSuppression:d};s?(fr.create(s),this.setState({canvas:p,canvasCtx:f},(function(){e.visualize()}))):this.setState({microphoneRecorder:new pr(r,o,n,a,i,v,m),canvas:p,canvasCtx:f},(function(){e.visualize()}))}},{key:"clear",value:function(){var e=this.props,t=e.width,n=e.height;this.state.canvasCtx.clearRect(0,0,t,n)}},{key:"render",value:function(){var e=this.props,t=e.width,n=e.height;return r.a.createElement("canvas",{ref:this.visualizerRef,height:n,width:t,className:this.props.className})}}])&&gr(t.prototype,n),o&&gr(t,o),i}(o.Component);_r.propTypes={backgroundColor:a.string,strokeColor:a.string,className:a.string,audioBitsPerSecond:a.number,mimeType:a.string,height:a.number,record:a.bool.isRequired,onStop:a.func,onData:a.func,onAudioContext:a.func,onSave:a.func},_r.defaultProps={backgroundColor:"rgba(255, 255, 255, 0.5)",strokeColor:"#000000",className:"visualizer",audioBitsPerSecond:128e3,mimeType:"audio/webm;codecs=opus",record:!1,width:640,height:100,visualSetting:"sinewave",echoCancellation:!1,autoGainControl:!1,noiseSuppression:!1,channelCount:2}}])}));